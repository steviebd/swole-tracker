(()=>{var a={};a.id=9316,a.ids=[9316],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3329:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k});var d=c(75338),e=c(58511),f=c(82161),g=c(74515),h=c(86802);let i=(0,g.lazy)(()=>Promise.resolve().then(c.bind(c,40117)).then(a=>({default:a.ProgressDashboard}))),j=()=>(0,d.jsx)("div",{className:"container mx-auto px-6 py-8 sm:px-8",children:(0,d.jsxs)("div",{className:"animate-pulse space-y-8",children:[(0,d.jsx)("div",{className:"bg-muted/50 h-8 w-48 rounded"}),(0,d.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((a,b)=>(0,d.jsx)("div",{className:"bg-muted/50 h-32 rounded-lg"},b))})]})});async function k(){let a=await (0,h.b3)(),b=await e.x.get({headers:{get:b=>a.get(b)}});return(!b||e.x.isExpired(b))&&(0,f.redirect)("/"),(0,d.jsx)(g.Suspense,{fallback:(0,d.jsx)(j,{}),children:(0,d.jsx)(i,{})})}},8579:(a,b,c)=>{"use strict";c.d(b,{_:()=>g});var d=c(48948),e=c(59256),f=c(26961);let g=(0,d.w)({server:{CLOUDFLARE_ACCOUNT_ID:e.Yj().optional(),CLOUDFLARE_API_TOKEN:e.Yj().optional(),DB:e.bz().optional(),WORKOS_API_KEY:e.Yj().optional(),WORKOS_CLIENT_ID:e.Yj().optional(),WORKOS_REDIRECT_URI:e.Yj().url().optional(),WORKER_SESSION_SECRET:e.Yj().min(32).optional(),DATABASE_URL:e.Yj().url().optional(),NODE_ENV:e.k5(["development","test","production"]).default("development"),VERCEL_AI_GATEWAY_API_KEY:e.Yj().optional(),AI_GATEWAY_API_KEY:e.Yj().optional(),AI_GATEWAY_MODEL:e.Yj().default("xai/grok-3-mini"),AI_GATEWAY_PROMPT:e.Yj().default("Tell me a short, funny programming or tech joke. Keep it clean and under 100 words."),AI_GATEWAY_JOKE_MEMORY_NUMBER:f.ai().default(3),AI_GATEWAY_MODEL_HEALTH:e.Yj().default("xai/grok-3-mini"),AI_DEBRIEF_MODEL:e.Yj().default("xai/grok-3-mini"),AI_DEBRIEF_TEMPERATURE:f.ai().min(0).max(2).default(.7),WHOOP_CLIENT_ID:e.Yj().optional(),WHOOP_CLIENT_SECRET:e.Yj().optional(),WHOOP_REDIRECT_URI:e.Yj().url().optional(),WHOOP_SYNC_RATE_LIMIT_PER_HOUR:f.ai().default(10),WHOOP_WEBHOOK_SECRET:e.Yj().optional(),RATE_LIMIT_TEMPLATE_OPERATIONS_PER_HOUR:f.ai().default(100),RATE_LIMIT_WORKOUT_OPERATIONS_PER_HOUR:f.ai().default(200),RATE_LIMIT_API_CALLS_PER_MINUTE:f.ai().default(60),RATE_LIMIT_ENABLED:f.zM().default(!0),ENCRYPTION_MASTER_KEY:e.Yj().min(32).optional()},client:{NEXT_PUBLIC_SITE_URL:e.Yj().url().default("http://localhost:3000"),NEXT_PUBLIC_POSTHOG_KEY:e.Yj().default("phc_test_dummy"),NEXT_PUBLIC_POSTHOG_HOST:e.Yj().url().default("https://us.i.posthog.com")},runtimeEnv:{CLOUDFLARE_ACCOUNT_ID:process.env.CLOUDFLARE_ACCOUNT_ID,CLOUDFLARE_API_TOKEN:process.env.CLOUDFLARE_API_TOKEN,DB:process.env.DB,WORKOS_API_KEY:process.env.WORKOS_API_KEY,WORKOS_CLIENT_ID:process.env.WORKOS_CLIENT_ID,WORKOS_REDIRECT_URI:process.env.WORKOS_REDIRECT_URI,WORKER_SESSION_SECRET:process.env.WORKER_SESSION_SECRET,NEXT_PUBLIC_SITE_URL:"http://localhost:8787",NEXT_PUBLIC_POSTHOG_KEY:"phc_22bpojwvy9Gh9xx6cfDD0utukztzX6mbpkmQAN4tzQ2",NEXT_PUBLIC_POSTHOG_HOST:"https://us.i.posthog.com",DATABASE_URL:process.env.DATABASE_URL,NODE_ENV:"production",VERCEL_AI_GATEWAY_API_KEY:process.env.VERCEL_AI_GATEWAY_API_KEY,AI_GATEWAY_API_KEY:process.env.AI_GATEWAY_API_KEY,AI_GATEWAY_MODEL:process.env.AI_GATEWAY_MODEL,AI_GATEWAY_PROMPT:process.env.AI_GATEWAY_PROMPT,AI_GATEWAY_JOKE_MEMORY_NUMBER:process.env.AI_GATEWAY_JOKE_MEMORY_NUMBER,AI_GATEWAY_MODEL_HEALTH:process.env.AI_GATEWAY_MODEL_HEALTH,AI_DEBRIEF_MODEL:process.env.AI_DEBRIEF_MODEL,AI_DEBRIEF_TEMPERATURE:process.env.AI_DEBRIEF_TEMPERATURE,WHOOP_CLIENT_ID:process.env.WHOOP_CLIENT_ID,WHOOP_CLIENT_SECRET:process.env.WHOOP_CLIENT_SECRET,WHOOP_REDIRECT_URI:process.env.WHOOP_REDIRECT_URI,WHOOP_SYNC_RATE_LIMIT_PER_HOUR:process.env.WHOOP_SYNC_RATE_LIMIT_PER_HOUR,WHOOP_WEBHOOK_SECRET:process.env.WHOOP_WEBHOOK_SECRET,RATE_LIMIT_TEMPLATE_OPERATIONS_PER_HOUR:process.env.RATE_LIMIT_TEMPLATE_OPERATIONS_PER_HOUR,RATE_LIMIT_WORKOUT_OPERATIONS_PER_HOUR:process.env.RATE_LIMIT_WORKOUT_OPERATIONS_PER_HOUR,RATE_LIMIT_API_CALLS_PER_MINUTE:process.env.RATE_LIMIT_API_CALLS_PER_MINUTE,RATE_LIMIT_ENABLED:process.env.RATE_LIMIT_ENABLED,ENCRYPTION_MASTER_KEY:process.env.ENCRYPTION_MASTER_KEY},skipValidation:"preview"===process.env.VERCEL_ENV,emptyStringAsUndefined:!0})},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18413:(a,b,c)=>{Promise.resolve().then(c.bind(c,59038))},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},40117:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ProgressDashboard:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call ProgressDashboard() from the server but ProgressDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/steven/swole-tracker/src/app/_components/ProgressDashboard.tsx","ProgressDashboard")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},45310:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["progress",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,3329)),"/Users/steven/swole-tracker/src/app/progress/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,51472)),"/Users/steven/swole-tracker/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.bind(c,59732)),"/Users/steven/swole-tracker/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["/Users/steven/swole-tracker/src/app/progress/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/progress/page",pathname:"/progress",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/progress/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},58511:(a,b,c)=>{"use strict";c.d(b,{x:()=>i});var d=c(8579);let e="workos_session",f="production"===d._.NODE_ENV;async function g(a){let b=function(){let a=d._.WORKER_SESSION_SECRET;if(!a||a.length<32)throw Error("WORKER_SESSION_SECRET must be at least 32 characters long");return a}(),c=new TextEncoder,e=await crypto.subtle.importKey("raw",c.encode(b),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return Array.from(new Uint8Array(await crypto.subtle.sign("HMAC",e,c.encode(a)))).map(a=>a.toString(16).padStart(2,"0")).join("")}async function h(a,b){return await g(a)===b}class i{static async create(a){let b=JSON.stringify({...a,refreshToken:a.refreshToken??null}),c=await g(b),d=`${b}.${c}`;return[`${e}=${encodeURIComponent(d)}`,"Max-Age=2592000","Path=/","HttpOnly",f?"Secure":"","SameSite=lax"].filter(Boolean).join("; ")}static async get(a){let b=a.headers.get("cookie");if(!b)return null;let c=this.extractCookieValue(b,e);if(!c)return null;try{let a=decodeURIComponent(c),b=a.lastIndexOf(".");if(b<=0||b===a.length-1)return null;let d=a.slice(0,b),e=a.slice(b+1);if(!await h(d,e))return null;try{let a=JSON.parse(d);if(!a.userId||!a.accessToken||!a.expiresAt)throw Error("Invalid session data");let b=void 0===a.refreshToken?null:a.refreshToken;return{...a,refreshToken:b}}catch(a){throw Error("Invalid session data format")}}catch(a){return null}}static destroy(){return[`${e}=`,"Max-Age=0","Path=/","HttpOnly",f?"Secure":"","SameSite=lax"].filter(Boolean).join("; ")}static extractCookieValue(a,b){for(let c of a.split(";").map(a=>a.trim()))if(c.startsWith(`${b}=`))return c.substring(`${b}=`.length);return null}static async hasSession(a){return null!==await this.get(a)}static isExpired(a){let b=Math.floor(Date.now()/1e3);return a.expiresAt<=b}}},59038:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ProgressDashboard:()=>D});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(44943);function i({title:a,description:b,actions:c,breadcrumb:e,backHref:f,backLabel:i="Back",className:j,contentClassName:k,children:l}){return(0,d.jsx)("main",{className:(0,h.cn)("min-h-screen bg-transparent",j),children:(0,d.jsxs)("div",{className:"mx-auto w-full max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,d.jsxs)("header",{className:"flex flex-col gap-4 border-b border-border/50 pb-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,d.jsxs)("div",{className:"flex min-w-0 flex-col gap-3",children:[e&&(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80",children:e}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[f?(0,d.jsx)(g(),{href:f,className:"inline-flex h-9 items-center justify-center rounded-full border border-border/50 px-3 text-xs font-medium text-muted-foreground transition hover:border-primary/50 hover:text-foreground",children:i}):null,(0,d.jsxs)("div",{className:"min-w-0 space-y-1",children:[(0,d.jsx)("h1",{className:"truncate text-lg font-semibold text-foreground sm:text-xl md:text-2xl",children:a}),b&&(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:b})]})]})]}),c&&(0,d.jsx)("div",{className:"flex flex-shrink-0 flex-wrap items-center gap-2",children:c})]}),(0,d.jsx)("section",{className:(0,h.cn)("py-6",k),children:l})]})})}var j=c(99187),k=c(35284),l=c(47434),m=c(36221);function n({isOpen:a,onClose:b,timeRange:c}){let{theme:e,resolvedTheme:f}=(0,m.W)(),g="system"!==e||"system"===e&&"dark"===f,{data:h,isLoading:i}=l.F.progress.getConsistencyStats.useQuery({timeRange:c},{enabled:a}),{data:j,isLoading:k}=l.F.progress.getWorkoutDates.useQuery({timeRange:c},{enabled:a});if(!a)return null;let n=`transition-all duration-300 rounded-xl border shadow-sm ${g?"bg-gray-900 border-gray-800 shadow-lg":"bg-white border-gray-200 dark:bg-gray-900 dark:border-gray-800"}`,o=`text-xl font-bold mb-4 ${g?"text-background":"text-gray-900 dark:text-background"}`,p=`text-sm font-medium mb-2 ${g?"text-gray-300":"text-gray-700 dark:text-gray-300"}`,q=(()=>{let a=new Date,b=[];if("week"===c){let c=new Date(a);c.setDate(a.getDate()-a.getDay());let d=[];for(let a=0;a<7;a++){let b=new Date(c);b.setDate(c.getDate()+a),d.push(b)}b.push({label:"This Week",days:d,monthYear:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}else if("month"===c){let c=a.getFullYear(),d=a.getMonth(),e=new Date(c,d,1),f=new Date(c,d+1,0).getDate(),g=e.getDay(),h=[];for(let a=0;a<g;a++)h.push(null);for(let a=1;a<=f;a++)h.push(new Date(c,d,a));b.push({label:a.toLocaleDateString("en-US",{month:"long",year:"numeric"}),days:h,monthYear:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}else for(let c=11;c>=0;c--){let d=new Date(a.getFullYear(),a.getMonth()-c,1),e=d.getFullYear(),f=d.getMonth(),g=new Date(e,f,1),h=new Date(e,f+1,0).getDate(),i=g.getDay(),j=[];for(let a=0;a<i;a++)j.push(null);for(let a=1;a<=h;a++)j.push(new Date(e,f,a));b.push({label:d.toLocaleDateString("en-US",{month:"short",year:"numeric"}),days:j,monthYear:d.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}return b})(),r=new Set((j||[]).map(a=>new Date(a).toDateString())),s=new Date,t=(()=>{if(!h||!j)return null;let a=j.reduce((a,b)=>{let c=new Date(b).getDay();return a[c]=(a[c]||0)+1,a},{}),b=Object.entries(a).sort(([,a],[,b])=>b-a)[0],d=b?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][parseInt(b[0])]:"None",e={morning:Math.floor(.4*j.length),afternoon:Math.floor(.35*j.length),evening:Math.floor(.25*j.length)},f="week"===c?1:"month"===c?4:52,g=3*f,i=h.totalWorkouts||0,k=Math.min(i/g*100,100),l=j.map(a=>new Date(a)).sort((a,b)=>b.getTime()-a.getTime()),m=[],n=0,o=0;for(let a=0;a<l.length-1;a++){let b=l[a],c=l[a+1];2>=Math.floor((b.getTime()-c.getTime())/864e5)?n++:(n>0&&m.push(n+1),o=Math.max(o,n+1),n=0)}return n>0&&m.push(n+1),{workoutsByDayOfWeek:a,mostActiveDayName:d,workoutsByHour:e,targetProgress:k,actualWorkouts:i,targetWorkouts:g,streaks:m,longestStreakCalculated:o=Math.max(o,n+1),avgWorkoutsPerWeek:h.frequency,totalRestDays:Math.max(0,7*f-i)}})();return(0,d.jsx)("div",{className:"bg-opacity-50 fixed inset-0 z-50 flex items-center justify-center bg-black p-4",children:(0,d.jsxs)("div",{className:`max-h-[90vh] w-full max-w-6xl overflow-y-auto rounded-xl ${n} p-6`,children:[(0,d.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:o,children:"Detailed Consistency Analysis"}),(0,d.jsxs)("p",{className:p,children:[c.charAt(0).toUpperCase()+c.slice(1)," View - Complete Training Patterns"]})]}),(0,d.jsx)("button",{onClick:b,className:`rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200 ${g?"border border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700":"border border-gray-200 bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"✕ Close"})]}),i||k?(0,d.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"h-32 animate-pulse rounded-lg bg-gray-200 dark:bg-gray-700"},b))}):h&&t?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h4",{className:p,children:"Consistency Overview"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-5",children:[(0,d.jsxs)("div",{className:`rounded-lg p-4 ${g?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC5"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${g?"text-gray-400":"text-gray-600"}`,children:"Total Workouts"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:t.actualWorkouts}),(0,d.jsxs)("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:["of ",t.targetWorkouts," target"]})]}),(0,d.jsxs)("div",{className:`rounded-lg p-4 ${g?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDD25"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${g?"text-gray-400":"text-gray-600"}`,children:"Current Streak"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-orange-500",children:h.currentStreak}),(0,d.jsx)("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"days"})]}),(0,d.jsxs)("div",{className:`rounded-lg p-4 ${g?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDFC6"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${g?"text-gray-400":"text-gray-600"}`,children:"Best Streak"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-yellow-500",children:h.longestStreak}),(0,d.jsx)("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"days"})]}),(0,d.jsxs)("div",{className:`rounded-lg p-4 ${g?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC8"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${g?"text-gray-400":"text-gray-600"}`,children:"Weekly Avg"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-500",children:t.avgWorkoutsPerWeek}),(0,d.jsx)("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"workouts"})]}),(0,d.jsxs)("div",{className:`rounded-lg p-4 ${g?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"⭐"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${g?"text-gray-400":"text-gray-600"}`,children:"Score"})]}),(0,d.jsx)("p",{className:`text-2xl font-bold ${h.consistencyScore>=80?"text-green-500":h.consistencyScore>=60?"text-yellow-500":"text-red-500"}`,children:h.consistencyScore}),(0,d.jsx)("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"out of 100"})]})]})]}),(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h4",{className:p,children:"Training Patterns"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,d.jsxs)("div",{className:`rounded-lg p-4 ${g?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsx)("h5",{className:`mb-3 text-sm font-semibold ${g?"text-gray-200":"text-gray-800"}`,children:"Workouts by Day of Week"}),(0,d.jsx)("div",{className:"space-y-2",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((a,b)=>{let c=t.workoutsByDayOfWeek[b]||0,e=Math.max(...Object.values(t.workoutsByDayOfWeek)),f=e>0?c/e*100:0;return(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("span",{className:`w-12 text-xs ${g?"text-gray-300":"text-gray-700"}`,children:a.slice(0,3)}),(0,d.jsx)("div",{className:`h-4 flex-1 rounded-full ${g?"bg-gray-700":"bg-gray-200"}`,children:(0,d.jsx)("div",{className:"h-4 rounded-full bg-blue-500 transition-all duration-500",style:{width:`${f}%`}})}),(0,d.jsx)("span",{className:`w-6 text-right text-xs ${g?"text-gray-300":"text-gray-700"}`,children:c})]},a)})}),(0,d.jsxs)("p",{className:`mt-3 text-xs ${g?"text-gray-400":"text-gray-600"}`,children:["Most active day:"," ",(0,d.jsx)("span",{className:"font-semibold text-blue-500",children:t.mostActiveDayName})]})]}),(0,d.jsxs)("div",{className:`rounded-lg p-4 ${g?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsx)("h5",{className:`mb-3 text-sm font-semibold ${g?"text-gray-200":"text-gray-800"}`,children:"Preferred Training Times"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDF05"}),(0,d.jsx)("span",{className:`text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"Morning (6-11 AM)"})]}),(0,d.jsx)("span",{className:`text-lg font-bold ${g?"text-background":"text-foreground"}`,children:t.workoutsByHour.morning})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"☀️"}),(0,d.jsx)("span",{className:`text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"Afternoon (11-5 PM)"})]}),(0,d.jsx)("span",{className:`text-lg font-bold ${g?"text-background":"text-foreground"}`,children:t.workoutsByHour.afternoon})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDF06"}),(0,d.jsx)("span",{className:`text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"Evening (5-10 PM)"})]}),(0,d.jsx)("span",{className:`text-lg font-bold ${g?"text-background":"text-foreground"}`,children:t.workoutsByHour.evening})]})]})]})]})]}),(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h4",{className:p,children:"Complete Training Calendar"}),(0,d.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:q.map((a,b)=>(0,d.jsxs)("div",{className:`rounded-lg p-3 ${g?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsx)("h5",{className:`mb-2 text-center text-xs font-semibold ${g?"text-gray-200":"text-gray-800"}`,children:a.label}),"week"!==c&&(0,d.jsx)("div",{className:"mb-1 grid grid-cols-7 gap-1",children:["S","M","T","W","T","F","S"].map((a,b)=>(0,d.jsx)("div",{className:`p-1 text-center text-xs font-medium ${g?"text-gray-400":"text-gray-600"}`,children:a},`${a}-${b}`))}),(0,d.jsx)("div",{className:"grid grid-cols-7 gap-1",children:a.days.map((a,b)=>(0,d.jsx)("div",{className:"aspect-square",children:a?(0,d.jsx)("div",{className:`flex h-full w-full items-center justify-center rounded text-xs transition-all ${a.toDateString()===s.toDateString()?`ring-1 ring-blue-500 ${g?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"}`:r.has(a.toDateString())?"bg-green-500 font-semibold text-white":g?"text-gray-400 hover:bg-gray-700":"text-gray-600 hover:bg-gray-200"}`,children:"week"===c?a.toLocaleDateString("en-US",{weekday:"short",day:"numeric"}):a.getDate()}):(0,d.jsx)("div",{className:"h-full w-full"})},b))})]},b))}),(0,d.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-6 text-xs",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:"h-3 w-3 rounded bg-green-500"}),(0,d.jsx)("span",{className:g?"text-gray-400":"text-gray-600",children:"Workout Day"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:`h-3 w-3 rounded border border-blue-500 ${g?"bg-blue-900":"bg-blue-100"}`}),(0,d.jsx)("span",{className:g?"text-gray-400":"text-gray-600",children:"Today"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:`h-3 w-3 rounded ${g?"bg-gray-700":"bg-gray-200"}`}),(0,d.jsx)("span",{className:g?"text-gray-400":"text-gray-600",children:"Rest Day"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:p,children:"Progress Insights & Recommendations"}),(0,d.jsx)("div",{className:`rounded-lg p-4 ${g?"bg-gray-800":"bg-gray-50"}`,children:(0,d.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("span",{className:`${t.targetProgress>=100?"text-green-500":"text-yellow-500"}`,children:t.targetProgress>=100?"\uD83C\uDFAF":"\uD83D\uDCCA"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:g?"text-gray-200":"text-gray-800",children:["Target Achievement:"," "]}),(0,d.jsxs)("span",{className:`font-semibold ${t.targetProgress>=100?"text-green-500":"text-yellow-500"}`,children:[t.targetProgress.toFixed(0),"%"]}),(0,d.jsx)("p",{className:`mt-1 text-xs ${g?"text-gray-400":"text-gray-600"}`,children:t.targetProgress>=100?"Excellent! You've exceeded your workout target.":`You need ${t.targetWorkouts-t.actualWorkouts} more workouts to reach your target.`})]})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("span",{className:`${h.currentStreak>=7?"text-green-500":"text-blue-500"}`,children:h.currentStreak>=7?"\uD83D\uDD25":"\uD83D\uDCC8"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:g?"text-gray-200":"text-gray-800",children:["Streak Analysis:"," "]}),(0,d.jsx)("span",{className:`font-semibold ${h.currentStreak>=7?"text-green-500":"text-blue-500"}`,children:h.currentStreak>=7?"Strong":"Building"}),(0,d.jsx)("p",{className:`mt-1 text-xs ${g?"text-gray-400":"text-gray-600"}`,children:h.currentStreak>=7?"Your streak is solid! Keep up the momentum.":`${7-h.currentStreak} more consecutive days to build a strong streak.`})]})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("span",{className:`${t.avgWorkoutsPerWeek>=3?"text-green-500":"text-orange-500"}`,children:t.avgWorkoutsPerWeek>=3?"✅":"⚠️"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:g?"text-gray-200":"text-gray-800",children:["Weekly Consistency:"," "]}),(0,d.jsx)("span",{className:`font-semibold ${t.avgWorkoutsPerWeek>=3?"text-green-500":"text-orange-500"}`,children:t.avgWorkoutsPerWeek>=3?"On Track":"Below Target"}),(0,d.jsx)("p",{className:`mt-1 text-xs ${g?"text-gray-400":"text-gray-600"}`,children:t.avgWorkoutsPerWeek>=3?"Great job maintaining 3+ workouts per week!":`Average ${t.avgWorkoutsPerWeek.toFixed(1)}/week. Aim for 3+ for optimal results.`})]})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("span",{className:"text-purple-500",children:"\uD83D\uDCA1"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:g?"text-gray-200":"text-gray-800",children:["Best Training Day:"," "]}),(0,d.jsx)("span",{className:"font-semibold text-purple-500",children:t.mostActiveDayName}),(0,d.jsx)("p",{className:`mt-1 text-xs ${g?"text-gray-400":"text-gray-600"}`,children:"Consider scheduling important workouts on your most consistent day."})]})]})]})})]})]}):(0,d.jsxs)("div",{className:"py-12 text-center",children:[(0,d.jsx)("svg",{className:"mx-auto mb-4 h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,d.jsx)("p",{className:`mb-2 text-lg font-medium ${g?"text-gray-300":"text-gray-700"}`,children:"No consistency data available"}),(0,d.jsx)("p",{className:`text-sm ${g?"text-gray-400":"text-gray-600"}`,children:"Complete some workouts to see detailed consistency analysis."})]})]})})}function o(){let[a,b]=(0,e.useState)("month"),[c,f]=(0,e.useState)(!1),{data:g,isLoading:h}=l.F.progress.getConsistencyStats.useQuery({timeRange:a}),{data:i,isLoading:j}=l.F.progress.getWorkoutDates.useQuery({timeRange:a}),k="text-sm font-medium mb-2 text-[var(--color-text-secondary)]",m=(()=>{let a=new Date,b=a.getFullYear(),c=a.getMonth(),d=new Date(b,c,1),e=new Date(b,c+1,0).getDate(),f=d.getDay(),g=[];for(let a=0;a<f;a++)g.push(null);for(let a=1;a<=e;a++)g.push(new Date(b,c,a));return g})(),o=new Set((i||[]).map(a=>new Date(a).toDateString())),p=new Date,q=3*("week"===a?1:"month"===a?4:52),r=g?.totalWorkouts||0,s=Math.min(r/q*100,100);return(0,d.jsxs)("div",{className:"transition-all duration-300 rounded-xl border shadow-sm glass-surface p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4 text-[var(--color-text)]",children:"Consistency Tracker"}),(0,d.jsx)("div",{className:"flex space-x-1 bg-[var(--color-bg-surface)] rounded-lg p-1 border border-[var(--color-border)]",children:["week","month","year"].map(c=>(0,d.jsx)("button",{onClick:()=>b(c),className:`px-2 py-1 text-xs font-medium rounded-md transition-all ${a===c?"bg-[var(--color-primary)] text-background shadow-sm":"text-[var(--color-text-muted)] hover:text-[var(--color-text)]"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))})]}),h||j?(0,d.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"animate-pulse bg-[var(--color-bg-surface)] h-32 rounded-lg"},b))}):g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD25"}),(0,d.jsx)("h3",{className:k,children:"Current Streak"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-[var(--color-warning)]",children:g.currentStreak}),(0,d.jsx)("p",{className:"text-xs text-[var(--color-text-muted)]",children:"days"})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFC6"}),(0,d.jsx)("h3",{className:k,children:"Best Streak"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-[var(--color-warning)]",children:g.longestStreak}),(0,d.jsx)("p",{className:"text-xs text-[var(--color-text-muted)]",children:"days"})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC8"}),(0,d.jsx)("h3",{className:k,children:"Frequency"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-[var(--color-primary)]",children:g.frequency}),(0,d.jsx)("p",{className:"text-xs text-[var(--color-text-muted)]",children:"per week"})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-2xl",children:"⭐"}),(0,d.jsx)("h3",{className:k,children:"Score"})]}),(0,d.jsx)("p",{className:`text-2xl font-bold ${g.consistencyScore>=80?"text-[var(--color-success)]":g.consistencyScore>=60?"text-[var(--color-warning)]":"text-[var(--color-danger)]"}`,children:g.consistencyScore}),(0,d.jsx)("p",{className:"text-xs text-[var(--color-text-muted)]",children:"out of 100"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:k,suppressHydrationWarning:!0,children:["Workout Calendar - ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,d.jsx)("div",{className:"text-center text-xs font-medium p-2 text-[var(--color-text-muted)]",children:a},a))}),(0,d.jsx)("div",{className:"grid grid-cols-7 gap-1",children:m.map((a,b)=>(0,d.jsx)("div",{className:"aspect-square",children:a?(0,d.jsx)("div",{className:`w-full h-full flex items-center justify-center text-sm rounded-md transition-all ${a.toDateString()===p.toDateString()?"ring-2 ring-[var(--color-primary)] bg-[var(--color-primary)] text-white font-semibold":o.has(a.toDateString())?"bg-[var(--color-success)] text-background font-semibold":"text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-surface)] hover:bg-opacity-80"}`,children:a.getDate()}):(0,d.jsx)("div",{className:"w-full h-full"})},b))}),(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-4 mt-4 text-xs",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-[var(--color-success)] rounded"}),(0,d.jsx)("span",{className:"text-[var(--color-text-muted)]",children:"Workout"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:"w-3 h-3 rounded border-2 border-[var(--color-primary)] bg-[var(--color-primary)] bg-opacity-20"}),(0,d.jsx)("span",{className:"text-[var(--color-text-muted)]",children:"Today"})]})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("h3",{className:k,children:"3x/Week Target Progress"}),(0,d.jsx)("button",{onClick:()=>f(!0),className:"btn-secondary",children:"View Details"})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)] space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("span",{className:"text-sm text-[var(--color-text-secondary)]",children:"Progress"}),(0,d.jsxs)("span",{className:"text-sm font-medium text-[var(--color-text)]",children:[r,"/",q," workouts"]})]}),(0,d.jsx)("div",{className:"w-full h-3 rounded-full bg-[var(--color-border)]",children:(0,d.jsx)("div",{className:`h-3 rounded-full transition-all duration-500 ${s>=100?"bg-[var(--color-success)]":s>=70?"bg-[var(--color-warning)]":"bg-[var(--color-danger)]"}`,style:{width:`${s}%`}})}),(0,d.jsxs)("p",{className:"text-xs mt-1 text-[var(--color-text-muted)]",children:[s.toFixed(0),"% of target achieved"]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h4",{className:"text-sm font-semibold text-[var(--color-text)]",children:"Consistency Insights"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`${g.frequency>=3?"text-[var(--color-success)]":"text-[var(--color-warning)]"}`,children:g.frequency>=3?"✅":"⚠️"}),(0,d.jsx)("span",{className:"text-[var(--color-text-secondary)]",children:g.frequency>=3?"Meeting weekly target":`${(3-g.frequency).toFixed(1)} workouts behind target`})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`${g.currentStreak>=3?"text-[var(--color-success)]":"text-[var(--color-text-muted)]"}`,children:g.currentStreak>=3?"\uD83D\uDD25":"\uD83D\uDCAD"}),(0,d.jsx)("span",{className:"text-[var(--color-text-secondary)]",children:g.currentStreak>=3?"Strong streak going!":"Build a longer streak"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`${g.consistencyScore>=80?"text-[var(--color-success)]":g.consistencyScore>=60?"text-[var(--color-warning)]":"text-[var(--color-danger)]"}`,children:g.consistencyScore>=80?"\uD83C\uDF1F":g.consistencyScore>=60?"\uD83D\uDCC8":"\uD83D\uDCC9"}),(0,d.jsx)("span",{className:"text-[var(--color-text-secondary)]",children:g.consistencyScore>=80?"Excellent consistency!":g.consistencyScore>=60?"Good, can improve more":"Needs consistency work"})]})]})]})]})]})]})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,d.jsx)("p",{className:"text-lg font-medium mb-2 text-[var(--color-text-secondary)]",children:"No consistency data found"}),(0,d.jsx)("p",{className:"text-sm text-[var(--color-text-muted)]",children:"Complete some workouts to track your consistency and build streaks."})]}),(0,d.jsx)(n,{isOpen:c,onClose:()=>f(!1),timeRange:a})]})}function p(){let[a,b]=(0,e.useState)(""),[c,f]=(0,e.useState)("1RM"),[g,h]=(0,e.useState)("quarter"),[i,j]=(0,e.useState)(!1),{data:k,isLoading:m}=l.F.progress.getTopExercises.useQuery({limit:20,timeRange:"year"}),n=k?.[0]?.exerciseName||"",o=a||n,{data:p,isLoading:q}=l.F.progress.getExerciseStrengthProgression.useQuery({exerciseName:o,timeRange:g},{enabled:!!o&&"1RM"===c}),{data:r,isLoading:s}=l.F.progress.getExerciseVolumeProgression.useQuery({exerciseName:o,timeRange:g},{enabled:!!o&&"Volume"===c}),{data:t,isLoading:u}=l.F.progress.getExerciseRecentPRs.useQuery({exerciseName:o,timeRange:g},{enabled:!!o}),{data:v,isLoading:w}=l.F.progress.getExerciseTopSets.useQuery({exerciseName:o,timeRange:g},{enabled:!!o}),x=(0,e.useMemo)(()=>"Volume"===c&&r?.volumeByWeek?r.volumeByWeek.map(a=>({date:a.weekStart,value:a.totalVolume,label:`${a.totalVolume}kg`})):"1RM"===c&&p?[{date:new Date().toISOString().split("T")[0],value:p.currentOneRM,label:`${p.currentOneRM}kg`}]:[],[c,p,r]),y="1RM"===c?p:r,z="1RM"===c?q:s,A="1RM"===c?p?.progressionTrend||0:r?.volumeChangePercent||0,B=A>2?{status:"improving",color:"text-green-500",icon:"\uD83D\uDFE2",text:"Improving",description:"Great progress! Keep up the current training approach."}:A<-2?{status:"declining",color:"text-red-500",icon:"\uD83D\uDD34",text:"Declining",description:"Performance is declining. Consider adjusting training variables."}:{status:"maintaining",color:"text-yellow-500",icon:"\uD83D\uDFE1",text:"Maintaining",description:"Steady performance. Progress may come in waves."},C="text-sm font-medium mb-2 text-[var(--color-text-secondary)]",D="px-3 py-2 text-sm rounded-lg border transition-colors bg-[var(--color-bg-surface)] border-[var(--color-border)] text-[var(--color-text)] focus:border-[var(--color-primary)]";return(0,d.jsxs)("div",{className:"transition-all duration-300 rounded-xl border shadow-sm glass-surface p-6",children:[(0,d.jsxs)("div",{className:"flex flex-col space-y-4 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4 text-[var(--color-text)] mb-0",children:"Volume by Exercise"}),(0,d.jsxs)("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg text-sm font-medium hover:from-purple-600 hover:to-blue-600 transition-all duration-200 flex items-center space-x-2 shadow-sm",children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),(0,d.jsx)("span",{children:"AI Insights"}),(0,d.jsx)("span",{className:"px-1.5 py-0.5 bg-black/20 rounded text-xs",children:"Beta"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"exercise-select",className:C,children:"Exercise"}),(0,d.jsx)("select",{id:"exercise-select",value:a,onChange:a=>b(a.target.value),className:D+" w-full",disabled:m,children:k?.map(a=>(0,d.jsx)("option",{value:a.exerciseName,children:a.exerciseName},a.exerciseName))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"focus-select",className:C,children:"Focus"}),(0,d.jsxs)("select",{id:"focus-select",value:c,onChange:a=>f(a.target.value),className:D+" w-full",children:[(0,d.jsx)("option",{value:"1RM",children:"1RM"}),(0,d.jsx)("option",{value:"Volume",children:"Volume"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"time-range-select",className:C,children:"Time Range"}),(0,d.jsxs)("select",{id:"time-range-select",value:g,onChange:a=>h(a.target.value),className:D+" w-full",children:[(0,d.jsx)("option",{value:"week",children:"Week"}),(0,d.jsx)("option",{value:"month",children:"Month"}),(0,d.jsx)("option",{value:"quarter",children:"Quarter"}),(0,d.jsx)("option",{value:"year",children:"Year"})]})]})]})]}),(z||m)&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"animate-pulse bg-[var(--color-bg-surface)] h-24 rounded-lg"}),(0,d.jsx)("div",{className:"animate-pulse bg-[var(--color-bg-surface)] h-64 rounded-lg"}),(0,d.jsx)("div",{className:"animate-pulse bg-[var(--color-bg-surface)] h-32 rounded-lg"})]}),!z&&!m&&o&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsxs)("p",{className:C,children:["Current ","1RM"===c?"1RM":"Total Volume"]}),(0,d.jsx)("p",{className:"text-xl font-bold text-[var(--color-primary)]",children:"1RM"===c?`${p?.currentOneRM||0}kg ${p?.oneRMChange?`(${p.oneRMChange>0?"+":""}${p.oneRMChange}kg)`:""}`:`${r?.currentVolume?.toLocaleString()||0}kg`})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsx)("p",{className:C,children:"Progression Status"}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:B.icon}),(0,d.jsx)("p",{className:`text-lg font-bold ${B.color}`,children:B.text})]}),(0,d.jsxs)("p",{className:`text-lg font-bold ${B.color}`,children:[A>0?"+":"",A.toFixed(1),"%",A>0?" ↗":A<0?" ↘":" →"]})]}),(0,d.jsx)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:B.description})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsx)("p",{className:C,children:"Sessions"}),(0,d.jsxs)("p",{className:"text-xl font-bold text-[var(--color-info)]",children:[y?.sessionCount||0,y?.frequency?` (${y.frequency.toFixed(1)}x/week)`:"",y?.frequency&&y.frequency>=2?" ✓":""]})]})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("h3",{className:C,children:[c," Progression Over Time"]}),(0,d.jsx)("div",{className:"relative h-64 p-6 rounded-lg border border-[var(--color-border)]",style:{background:"color-mix(in srgb, var(--card) 98%, var(--primary) 2%)"},children:x.length>0?(0,d.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 400 200",preserveAspectRatio:"xMidYMid meet",children:[(0,d.jsx)("defs",{children:(0,d.jsx)("pattern",{id:"progression-grid",width:"40",height:"20",patternUnits:"userSpaceOnUse",children:(0,d.jsx)("path",{d:"M 40 0 L 0 0 0 20",fill:"none",stroke:"var(--color-border)",strokeWidth:"0.5"})})}),(0,d.jsx)("rect",{width:"100%",height:"100%",fill:"url(#progression-grid)"}),x.map((a,b)=>{let c=Math.max(...x.map(a=>a.value)),e=Math.min(...x.map(a=>a.value)),f=c-e||1,g=.1*f,h=b/Math.max(1,x.length-1)*350+25,i=180-(a.value-e+g)/(f+2*g)*160;return(0,d.jsxs)("g",{children:[b<x.length-1&&(0,d.jsx)("line",{x1:h,y1:i,x2:(b+1)/Math.max(1,x.length-1)*350+25,y2:180-(x[b+1].value-e+g)/(f+2*g)*160,stroke:"var(--color-primary)",strokeWidth:"2"}),(0,d.jsx)("circle",{cx:h,cy:i,r:"4",fill:"var(--color-primary)",className:"hover:r-6 cursor-pointer transition-all"}),(0,d.jsx)("text",{x:h,y:Math.max(i-15,15),textAnchor:"middle",className:"text-xs font-medium opacity-0 hover:opacity-100 transition-opacity",fill:"var(--color-text)",children:a.label})]},b)})]}):(0,d.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,d.jsx)("p",{className:"text-sm text-[var(--color-text-muted)]",children:"No progression data available for selected period"})})})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h3",{className:C,children:"Recent PRs"}),u?(0,d.jsx)("div",{className:"animate-pulse bg-[var(--color-bg-surface)] h-20 rounded-lg"}):t?.recentPRs&&t.recentPRs.length>0?(0,d.jsx)("div",{className:"space-y-2",children:t.recentPRs.slice(0,3).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("span",{className:"text-lg",children:"1RM"===a.type?"\uD83C\uDFC6":"Volume"===a.type?"\uD83D\uDCAA":"⭐"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-[var(--color-text)]",children:new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,d.jsxs)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[a.weight,"kg x ",a.reps," ","1RM"===a.type?"(New 1RM!)":"(Volume PR)"]})]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("p",{className:"text-sm font-bold text-[var(--color-primary)]",children:[a.oneRMPercentage?.toFixed(0)||0,"% of 1RM"]})})]},b))}):(0,d.jsx)("div",{className:"text-center py-4",children:(0,d.jsx)("p",{className:"text-sm text-[var(--color-text-muted)]",children:"No recent PRs in selected time range"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:C,children:"Top Recent Sets"}),w?(0,d.jsx)("div",{className:"animate-pulse bg-[var(--color-bg-surface)] h-24 rounded-lg"}):v?.topSets&&v.topSets.length>0?(0,d.jsx)("div",{className:"space-y-2",children:v.topSets.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[var(--color-bg-surface)] border border-[var(--color-border)]",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"text-sm font-medium text-[var(--color-text)]",children:[a.weight,"kg x ",a.reps]}),(0,d.jsx)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("p",{className:"text-sm font-bold text-[var(--color-primary)]",children:[a.oneRMPercentage.toFixed(0),"% of 1RM"]})})]},b))}):(0,d.jsx)("div",{className:"text-center py-4",children:(0,d.jsx)("p",{className:"text-sm text-[var(--color-text-muted)]",children:"No recent sets data available"})})]})]}),!z&&!m&&(!o||k&&0===k.length)&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"var(--color-text-muted)",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,d.jsx)("p",{className:"text-lg font-medium mb-2 text-[var(--color-text-secondary)]",children:"No exercise data found"}),(0,d.jsx)("p",{className:"text-sm text-[var(--color-text-muted)]",children:"Complete some workouts to track your exercise progression."})]}),i&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:a=>{a.target===a.currentTarget&&j(!1)},children:(0,d.jsxs)("div",{className:"bg-[var(--color-bg-card)] rounded-xl shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-6 border-b border-[var(--color-border)]",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg",children:(0,d.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-[var(--color-text)]",children:"AI Training Insights"}),(0,d.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)]",children:"Powered by advanced analytics"})]})]}),(0,d.jsx)("button",{onClick:()=>j(!1),className:"p-2 hover:bg-[var(--color-bg-surface)] rounded-lg transition-colors",children:(0,d.jsx)("svg",{className:"w-5 h-5 text-[var(--color-text-secondary)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[o&&(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800",children:[(0,d.jsxs)("h4",{className:"font-semibold text-[var(--color-text)] mb-2",children:[o," Analysis"]}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-[var(--color-text-secondary)]",children:[p?.currentOneRM&&(0,d.jsxs)("p",{children:["• You're working with a ",p.currentOneRM,"kg 1RM - excellent foundation!"]}),"improving"===B.status&&(0,d.jsxs)("p",{children:["• Your ",A.toFixed(1),"% improvement shows great consistency!"]}),"maintaining"===B.status&&(0,d.jsx)("p",{children:"• Steady performance indicates good training stability."}),"declining"===B.status&&(0,d.jsx)("p",{children:"• Consider a deload week to recover and reset your progress."}),y?.frequency&&y.frequency>=2&&(0,d.jsxs)("p",{children:["• Training ",y.frequency.toFixed(1),"x per week shows excellent frequency!"]})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h4",{className:"font-semibold text-[var(--color-text)]",children:"Smart Recommendations"}),(0,d.jsx)("div",{className:"p-3 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("span",{className:"text-green-500 font-bold",children:"✓"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Progressive Overload"}),(0,d.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Aim for 2.5-5kg increases when hitting 8+ reps consistently"})]})]})}),(0,d.jsx)("div",{className:"p-3 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("span",{className:"text-yellow-500 font-bold",children:"!"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Recovery Focus"}),(0,d.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Sleep 7-9 hours and eat sufficient protein for optimal gains"})]})]})}),(0,d.jsx)("div",{className:"p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("span",{className:"text-blue-500 font-bold",children:"\uD83D\uDCA1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Form Check"}),(0,d.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Record your lifts to ensure consistent technique as weight increases"})]})]})})]}),(0,d.jsx)("div",{className:"mt-6 p-4 rounded-lg bg-gradient-to-r from-purple-100 to-blue-100 dark:from-purple-900/30 dark:to-blue-900/30 border border-purple-200 dark:border-purple-800",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full inline-block mb-3",children:(0,d.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,d.jsx)("h4",{className:"font-bold text-[var(--color-text)] mb-2",children:"More AI Features Coming Soon!"}),(0,d.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)] mb-3",children:"We're developing advanced AI that will provide personalized training recommendations based on your unique progress patterns."}),(0,d.jsxs)("div",{className:"text-xs text-[var(--color-text-muted)]",children:[(0,d.jsx)("p",{children:"• Personalized programming suggestions"}),(0,d.jsx)("p",{children:"• Injury prevention alerts"}),(0,d.jsx)("p",{children:"• Competition readiness tracking"}),(0,d.jsx)("p",{children:"• Recovery optimization tips"})]})]})})]}),(0,d.jsx)("div",{className:"p-6 border-t border-[var(--color-border)] bg-[var(--color-bg-surface)] rounded-b-xl",children:(0,d.jsx)("button",{onClick:()=>j(!1),className:"w-full px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg font-medium hover:bg-[var(--color-primary)]/90 transition-colors",children:"Got it!"})})]})})]})}function q({isOpen:a,onClose:b,exerciseName:c}){let{theme:f,resolvedTheme:g}=(0,m.W)(),[h,i]=(0,e.useState)("all"),[j,k]=(0,e.useState)("both"),[n,o]=(0,e.useState)(c||""),p="system"!==f||"system"===f&&"dark"===g,{data:q,isLoading:r}=l.F.progress.getPersonalRecords.useQuery({timeRange:"all"===h?"year":h,recordType:j},{enabled:a}),s=q?Array.from(new Set(q.map(a=>a.exerciseName))).sort():[],t=q?.filter(a=>{let b=!n||a.exerciseName===n;if("all"===h)return b;let c=new Date(a.workoutDate),d=new Date,e=!0;return"week"===h?e=c>=new Date(d.getTime()-6048e5):"month"===h?e=c>=new Date(d.getFullYear(),d.getMonth()-1,d.getDate()):"year"===h&&(e=c>=new Date(d.getFullYear()-1,d.getMonth(),d.getDate())),b&&e})||[];if(!a)return null;let u=`transition-all duration-300 rounded-xl border shadow-sm ${p?"bg-gray-900 border-gray-800 shadow-lg":"bg-background border-gray-200 dark:bg-gray-900 dark:border-gray-800"}`,v=`text-xl font-bold mb-4 ${p?"text-background":"text-gray-900 dark:text-background"}`,w=`text-sm font-medium mb-2 ${p?"text-gray-300":"text-gray-700 dark:text-gray-300"}`,x=t.reduce((a,b)=>{let c=b.exerciseName;return a[c]||(a[c]={weight:[],volume:[]}),a[c][b.recordType].push(b),a},{}),y=(()=>{let a=t.filter(a=>"weight"===a.recordType),b=t.filter(a=>"volume"===a.recordType),c=Object.entries(x).map(([a,b])=>{let c=b.weight.sort((a,b)=>new Date(a.workoutDate).getTime()-new Date(b.workoutDate).getTime()),d=b.volume.sort((a,b)=>new Date(a.workoutDate).getTime()-new Date(b.workoutDate).getTime()),e=0,f=0;if(c.length>=2){let a=c[0];e=c[c.length-1].weight-a.weight}if(d.length>=2){let a=d[0],b=d[d.length-1];f=b.weight*b.reps-a.weight*a.reps}return{exercise:a,weightImprovement:e,volumeImprovement:f,totalPRs:b.weight.length+b.volume.length}}).sort((a,b)=>b.totalPRs-a.totalPRs),d=new Date(Date.now()-2592e6),e=t.filter(a=>new Date(a.workoutDate)>=d);return{totalPRs:t.length,weightPRs:a.length,volumePRs:b.length,exercisesWithPRs:Object.keys(x).length,improvements:c,recentPRs:e.length,avgPRsPerExercise:Object.keys(x).length>0?(t.length/Object.keys(x).length).toFixed(1):0}})();return(0,d.jsx)("div",{className:"fixed inset-0 bg-background bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,d.jsxs)("div",{className:`max-w-6xl w-full max-h-[90vh] overflow-y-auto rounded-xl ${u} p-6`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:v,children:"Complete PR History"}),(0,d.jsxs)("p",{className:w,children:[n?`${n} - `:"","Personal Records Timeline & Analysis"]})]}),(0,d.jsx)("button",{onClick:b,className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${p?"bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"}`,children:"✕ Close"})]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:`text-xs font-medium ${p?"text-gray-300":"text-gray-700"}`,children:"Exercise:"}),(0,d.jsxs)("select",{value:n,onChange:a=>o(a.target.value),className:`ml-2 px-3 py-1 text-sm rounded-md border transition-all ${p?"bg-gray-800 border-gray-600 text-white":"bg-background border-gray-300 text-gray-900"}`,children:[(0,d.jsx)("option",{value:"",children:"All Exercises"}),s.map(a=>(0,d.jsx)("option",{value:a,children:a},a))]})]}),(0,d.jsx)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["both","weight","volume"].map(a=>(0,d.jsx)("button",{onClick:()=>k(a),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${j===a?"bg-background dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"both"===a?"All Types":a.charAt(0).toUpperCase()+a.slice(1)},a))}),(0,d.jsx)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["all","year","month","week"].map(a=>(0,d.jsx)("button",{onClick:()=>i(a),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${h===a?"bg-background dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"all"===a?"All Time":a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),r?(0,d.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-32 rounded-lg"},b))}):t.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h4",{className:w,children:"PR Statistics"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,d.jsxs)("div",{className:`p-4 rounded-lg ${p?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDFC6"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${p?"text-gray-400":"text-gray-600"}`,children:"Total PRs"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-500",children:y.totalPRs}),(0,d.jsx)("p",{className:`text-xs ${p?"text-gray-500":"text-gray-600"}`,children:"records set"})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${p?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDFCB️"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${p?"text-gray-400":"text-gray-600"}`,children:"Weight PRs"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:y.weightPRs}),(0,d.jsx)("p",{className:`text-xs ${p?"text-gray-500":"text-gray-600"}`,children:"max weight"})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${p?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCCA"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${p?"text-gray-400":"text-gray-600"}`,children:"Volume PRs"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-500",children:y.volumePRs}),(0,d.jsx)("p",{className:`text-xs ${p?"text-gray-500":"text-gray-600"}`,children:"total volume"})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${p?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDFAF"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${p?"text-gray-400":"text-gray-600"}`,children:"Exercises"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-orange-500",children:y.exercisesWithPRs}),(0,d.jsx)("p",{className:`text-xs ${p?"text-gray-500":"text-gray-600"}`,children:"with PRs"})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${p?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDD25"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${p?"text-gray-400":"text-gray-600"}`,children:"Recent"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-red-500",children:y.recentPRs}),(0,d.jsx)("p",{className:`text-xs ${p?"text-gray-500":"text-gray-600"}`,children:"last 30 days"})]})]})]}),(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h4",{className:w,children:"Top Performing Exercises"}),(0,d.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:y.improvements.slice(0,3).map((a,b)=>(0,d.jsxs)("div",{className:`p-4 rounded-lg ${p?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("h5",{className:`font-semibold ${p?"text-background":"text-foreground"}`,children:a.exercise}),(0,d.jsx)("span",{className:`text-2xl ${0===b?"\uD83E\uDD47":1===b?"\uD83E\uDD48":"\uD83E\uDD49"}`})]}),(0,d.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:p?"text-gray-400":"text-gray-600",children:"Total PRs:"}),(0,d.jsx)("span",{className:`font-semibold ${p?"text-background":"text-foreground"}`,children:a.totalPRs})]}),a.weightImprovement>0&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:p?"text-gray-400":"text-gray-600",children:"Weight gain:"}),(0,d.jsxs)("span",{className:"font-semibold text-blue-500",children:["+",a.weightImprovement,"kg"]})]}),a.volumeImprovement>0&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:p?"text-gray-400":"text-gray-600",children:"Volume gain:"}),(0,d.jsxs)("span",{className:"font-semibold text-green-500",children:["+",a.volumeImprovement,"kg"]})]})]})]},a.exercise))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:w,children:"Complete PR Timeline"}),(0,d.jsx)("div",{className:`rounded-lg border ${p?"border-gray-700":"border-gray-200"} max-h-96 overflow-y-auto mobile-table-container`,children:(0,d.jsxs)("div",{className:"mobile-table",children:[(0,d.jsxs)("div",{className:`grid grid-cols-7 gap-2 sm:gap-4 px-2 sm:px-4 py-3 text-xs font-medium border-b sticky top-0 ${p?"text-gray-400 border-gray-700 bg-gray-800":"text-gray-600 border-gray-200 bg-gray-50"}`,children:[(0,d.jsx)("div",{children:"Date"}),(0,d.jsx)("div",{children:"Exercise"}),(0,d.jsx)("div",{children:"Type"}),(0,d.jsx)("div",{children:"Weight"}),(0,d.jsx)("div",{children:"Reps"}),(0,d.jsx)("div",{children:"Volume"}),(0,d.jsx)("div",{children:"1RM Est."})]}),t.sort((a,b)=>new Date(b.workoutDate).getTime()-new Date(a.workoutDate).getTime()).map((a,b)=>{var c;return(0,d.jsxs)("div",{className:`grid grid-cols-7 gap-2 sm:gap-4 px-2 sm:px-4 py-3 text-xs sm:text-sm ${b!==t.length-1?`border-b ${p?"border-gray-700":"border-gray-200"}`:""} ${new Date(a.workoutDate)>new Date(Date.now()-6048e5)?p?"bg-green-900/20":"bg-green-50":""}`,children:[(0,d.jsx)("div",{className:p?"text-gray-300":"text-gray-700",children:("string"==typeof(c=a.workoutDate)?new Date(c):c).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,d.jsx)("div",{className:`font-medium ${p?"text-background":"text-foreground"}`,children:a.exerciseName}),(0,d.jsx)("div",{children:(0,d.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(a=>{switch(a){case"weight":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"volume":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"}})(a.recordType)}`,children:"weight"===a.recordType?"Weight":"Volume"})}),(0,d.jsxs)("div",{className:`font-medium ${p?"text-background":"text-foreground"}`,children:[a.weight,"kg"]}),(0,d.jsx)("div",{className:p?"text-gray-300":"text-gray-700",children:a.reps}),(0,d.jsxs)("div",{className:`font-medium ${p?"text-background":"text-foreground"}`,children:[(a.weight*a.reps).toLocaleString(),"kg"]}),(0,d.jsx)("div",{className:`font-medium ${p?"text-background":"text-foreground"}`,children:a.oneRMEstimate||"-"})]},b)})]})})]})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),(0,d.jsx)("p",{className:`text-lg font-medium mb-2 ${p?"text-gray-300":"text-gray-700"}`,children:"No personal records found"}),(0,d.jsx)("p",{className:`text-sm ${p?"text-gray-400":"text-gray-600"}`,children:n?`No PRs found for ${n} in the selected time range.`:"Complete some workouts to start achieving personal records."})]})]})})}function r(){let[a,b]=(0,e.useState)("month"),[c,f]=(0,e.useState)("both"),[g,h]=(0,e.useState)(!1),{data:i,isLoading:j}=l.F.progress.getPersonalRecords.useQuery({timeRange:a,recordType:c}),k="text-sm font-medium mb-2 text-theme-secondary";return(0,d.jsxs)("div",{className:"transition-all duration-300 rounded-xl border shadow-sm bg-card border-border p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4 text-theme-primary",children:"Personal Records"}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("div",{className:"flex space-x-1 bg-muted rounded-lg p-1",children:["both","weight","volume"].map(a=>(0,d.jsx)("button",{onClick:()=>f(a),className:`px-2 py-1 text-xs font-medium rounded-md transition-all ${c===a?"bg-card text-foreground shadow-sm":"text-theme-secondary hover:text-theme-primary"}`,children:"both"===a?"All":a.charAt(0).toUpperCase()+a.slice(1)},a))}),(0,d.jsx)("div",{className:"flex space-x-1 bg-muted rounded-lg p-1",children:["week","month","year"].map(c=>(0,d.jsx)("button",{onClick:()=>b(c),className:`px-2 py-1 text-xs font-medium rounded-md transition-all ${a===c?"bg-card text-foreground shadow-sm":"text-theme-secondary hover:text-theme-primary"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))})]})]}),j?(0,d.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"animate-pulse bg-muted h-20 rounded-lg"},b))}):i&&i.length>0?(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFC6"}),(0,d.jsx)("h3",{className:k,children:"Total PRs"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-500",children:i.length}),(0,d.jsxs)("p",{className:"text-xs text-theme-muted",children:["this ",a]})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFCB️"}),(0,d.jsx)("h3",{className:k,children:"Weight PRs"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:i.filter(a=>"weight"===a.recordType).length}),(0,d.jsx)("p",{className:"text-xs text-theme-muted",children:"max weight"})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCA"}),(0,d.jsx)("h3",{className:k,children:"Volume PRs"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-500",children:i.filter(a=>"volume"===a.recordType).length}),(0,d.jsx)("p",{className:"text-xs text-theme-muted",children:"total volume"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("h3",{className:k,children:"Recent Achievements Timeline"}),(0,d.jsx)("button",{onClick:()=>h(!0),className:"btn-secondary",children:"View All History"})]}),(0,d.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:i.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border transition-all hover:shadow-md bg-surface border-border hover:border-primary",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("span",{className:"text-2xl",children:(a=>{switch(a){case"weight":return"\uD83C\uDFCB️";case"volume":return"\uD83D\uDCCA";default:return"\uD83C\uDFC6"}})(a.recordType)})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("h4",{className:"font-semibold text-theme-primary",children:a.exerciseName}),(0,d.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(a=>{switch(a){case"weight":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"volume":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"}})(a.recordType)}`,children:"weight"===a.recordType?"Weight PR":"Volume PR"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,d.jsxs)("span",{className:"font-bold text-theme-primary",children:[a.weight,"kg \xd7 ",a.reps]}),"weight"===a.recordType&&a.oneRMEstimate&&(0,d.jsxs)("span",{className:"px-2 py-1 rounded bg-info-muted text-info",children:["~",a.oneRMEstimate,"kg 1RM"]}),"volume"===a.recordType&&(0,d.jsxs)("span",{className:"px-2 py-1 rounded bg-success-muted text-success",children:[(a.weight*a.reps).toLocaleString(),"kg volume"]})]})]})]}),(0,d.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-theme-secondary",children:new Date(a.workoutDate.toISOString()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),new Date(a.workoutDate)>new Date(Date.now()-6048e5)&&(0,d.jsx)("div",{className:"flex items-center justify-end mt-1",children:(0,d.jsx)("span",{className:"text-xs text-success font-medium animate-pulse",children:"\uD83C\uDF89 New!"})})]})]},b))})]})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),(0,d.jsx)("p",{className:"text-lg font-medium mb-2 text-theme-secondary",children:"No personal records found"}),(0,d.jsxs)("p",{className:"text-sm text-theme-muted",children:["Keep training to achieve new personal records for this ",a,"."]})]}),(0,d.jsx)(q,{isOpen:g,onClose:()=>h(!1)})]})}function s(){let{data:a,isLoading:b}=l.F.progress.getPersonalRecords.useQuery({timeRange:"month",recordType:"both"}),{data:c,isLoading:e}=l.F.progress.getConsistencyStats.useQuery({timeRange:"month"}),{data:f,isLoading:g}=l.F.progress.getVolumeProgression.useQuery({timeRange:"month"}),h="text-sm font-medium mb-2 text-theme-secondary",i=(()=>{if(!c||!a||!f)return null;let b=a.length,d=c.currentStreak,e=f.reduce((a,b)=>a+b.totalVolume,0);return b>=3?{emoji:"\uD83D\uDE80",title:"On Fire!",message:`${b} new PRs this month! You're crushing it!`,color:"text-green-500"}:d>=7?{emoji:"\uD83D\uDD25",title:"Streak Master!",message:`${d} day streak! Consistency is key!`,color:"text-orange-500"}:e>1e4?{emoji:"\uD83D\uDCAA",title:"Volume Beast!",message:`${e.toLocaleString()}kg moved this month!`,color:"text-blue-500"}:{emoji:"\uD83C\uDFAF",title:"Keep Going!",message:"Every workout counts. You're building something great!",color:"text-purple-500"}})(),j=[];if(a&&a.length>0&&j.push({category:"pr",level:a.length>=5?"gold":a.length>=3?"silver":"bronze",title:`${a.length} New PRs`,description:"Personal records this month",value:a.length}),c?.currentStreak&&c.currentStreak>=3&&j.push({category:"streak",level:c.currentStreak>=14?"gold":c.currentStreak>=7?"silver":"bronze",title:`${c.currentStreak} Day Streak`,description:"Consecutive workout days",value:c.currentStreak}),c?.frequency&&c.frequency>=3&&j.push({category:"consistency",level:"gold",title:"Consistency Master",description:`${c.frequency}x per week average`,value:c.frequency}),f){let a=f.reduce((a,b)=>a+b.totalVolume,0);a>5e3&&j.push({category:"volume",level:a>=2e4?"gold":a>=1e4?"silver":"bronze",title:"Volume Champion",description:`${a.toLocaleString()}kg total volume`,value:a})}let k=b||e||g;return(0,d.jsxs)("div",{className:"transition-all duration-300 rounded-xl border shadow-sm bg-card border-border p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4 text-theme-primary",children:"This Month's Achievements"}),(0,d.jsxs)("p",{className:h,suppressHydrationWarning:!0,children:["Your progress highlights for ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]}),i&&(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-2xl",children:i.emoji}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:`font-bold ${i.color}`,children:i.title}),(0,d.jsx)("p",{className:"text-xs text-theme-muted",children:"Keep it up!"})]})]})})]}),k?(0,d.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"animate-pulse bg-muted h-20 rounded-lg"},b))}):(0,d.jsxs)(d.Fragment,{children:[i&&(0,d.jsx)("div",{className:`mb-6 p-4 rounded-lg border-l-4 ${i.color.includes("green")?"border-green-500 bg-green-50 dark:bg-green-900/20":i.color.includes("orange")?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":i.color.includes("blue")?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-purple-500 bg-purple-50 dark:bg-purple-900/20"}`,children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("span",{className:"text-3xl",children:i.emoji}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:`font-bold ${i.color}`,children:i.title}),(0,d.jsx)("p",{className:"text-theme-secondary",children:i.message})]})]})}),j.length>0?(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h3",{className:h,children:"Achievement Badges"}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map((a,b)=>(0,d.jsxs)("div",{className:"relative p-4 rounded-xl border transition-all duration-200 hover:scale-105 border-border bg-surface",children:[(0,d.jsx)("div",{className:`absolute -top-2 -right-2 w-8 h-8 rounded-full bg-gradient-to-br ${(a=>{switch(a){case"gold":return"from-yellow-400 to-yellow-600";case"silver":return"from-gray-300 to-gray-500";case"bronze":return"from-orange-400 to-orange-600"}})(a.level)} flex items-center justify-center shadow-lg`,children:(0,d.jsx)("span",{className:"text-background text-xs font-bold",children:"gold"===a.level?"\uD83E\uDD47":"silver"===a.level?"\uD83E\uDD48":"\uD83E\uDD49"})}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("span",{className:"text-2xl",children:(a=>{switch(a){case"strength":return"\uD83C\uDFCB️";case"consistency":return"\uD83D\uDD25";case"volume":return"\uD83D\uDCC8";case"pr":return"\uD83C\uDFC6";case"streak":return"⚡";default:return"⭐"}})(a.category)}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold text-theme-primary",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-theme-secondary",children:a.description})]})]})]},b))})]}):null,a&&a.length>0&&(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h3",{className:h,children:"Recent Personal Records"}),(0,d.jsx)("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:a.slice(0,5).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg transition-all bg-surface hover:scale-[1.02]",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("span",{className:"text-xl",children:"weight"===a.recordType?"\uD83C\uDFCB️":"\uD83D\uDCCA"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-theme-primary",children:a.exerciseName}),(0,d.jsx)("p",{className:"text-sm text-theme-secondary",children:"weight"===a.recordType?"Weight PR":"Volume PR"})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"font-bold text-theme-primary",children:[a.weight,"kg \xd7 ",a.reps]}),new Date(a.workoutDate)>new Date(Date.now()-6048e5)&&(0,d.jsx)("span",{className:"text-xs text-success animate-pulse",children:"\uD83C\uDD95 New!"})]})]},b))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:h,children:"Monthly Summary"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDFAF"}),(0,d.jsx)("h4",{className:"text-xs font-medium text-theme-secondary",children:"Workouts"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:c?.totalWorkouts||0})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDFC6"}),(0,d.jsx)("h4",{className:"text-xs font-medium text-theme-secondary",children:"New PRs"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-500",children:a?.length||0})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDD25"}),(0,d.jsx)("h4",{className:"text-xs font-medium text-theme-secondary",children:"Streak"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-orange-500",children:c?.currentStreak||0}),(0,d.jsx)("p",{className:"text-xs text-theme-muted",children:"days"})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCAA"}),(0,d.jsx)("h4",{className:"text-xs font-medium text-theme-secondary",children:"Volume"})]}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-purple-500",children:[f?Math.round(f.reduce((a,b)=>a+b.totalVolume,0)/1e3):0,"k"]}),(0,d.jsx)("p",{className:"text-xs text-theme-muted",children:"kg moved"})]})]})]})]}),!k&&0===j.length&&(!a||0===a.length)&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),(0,d.jsx)("p",{className:"text-lg font-medium mb-2 text-theme-secondary",children:"Start Your Achievement Journey"}),(0,d.jsx)("p",{className:"text-sm text-theme-muted",children:"Complete workouts this month to unlock achievements and track your progress."})]})]})}function t({isOpen:a,onClose:b,exerciseName:c,timeRange:e}){var f,g;let{theme:h,resolvedTheme:i}=(0,m.W)(),j="system"!==h||"system"===h&&"dark"===i,{data:k,isLoading:n}=l.F.progress.getStrengthProgression.useQuery({exerciseName:c,timeRange:e},{enabled:!!c&&a});if(!a)return null;let o=`transition-all duration-300 rounded-xl border shadow-sm ${j?"bg-gray-900 border-gray-800 shadow-lg":"bg-background border-gray-200 dark:bg-gray-900 dark:border-gray-800"}`,p=`text-xl font-bold mb-4 ${j?"text-foreground":"text-foreground dark:text-foreground"}`,q=`text-sm font-medium mb-2 ${j?"text-gray-300":"text-gray-700 dark:text-gray-300"}`,r=(()=>{if(!k||0===k.length)return null;let a=k.map(a=>a.weight),b=k.map(a=>a.oneRMEstimate),c=Math.max(...a),d=Math.max(...a),e=a.reduce((a,b)=>a+b,0)/a.length,f=Math.max(...b),g=k[k.length-1],h=k[0],i=g&&h?h.weight-g.weight:0,j=g?i/g.weight*100:0,l=k.reduce((a,b)=>a+b.weight*b.reps*b.sets,0),m=l/k.length,n=k.length,o=k.reduce((a,b)=>a+b.sets,0),p=k.reduce((a,b)=>a+b.reps*b.sets,0),q=Math.ceil((k.length>1?new Date(k[0].workoutDate).getTime()-new Date(k[k.length-1].workoutDate).getTime():0)/864e5);return{currentMax:c,allTimeMax:d,averageWeight:Math.round(10*e)/10,bestOneRM:f,totalProgress:Math.round(10*i)/10,progressPercentage:Math.round(10*j)/10,totalVolume:Math.round(l),avgVolumePerSession:Math.round(m),totalSessions:n,totalSets:o,totalReps:p,sessionsPerWeek:Math.round(10*(q>0?n/q*7:0))/10,daysSpanned:q}})();return(0,d.jsx)("div",{className:"fixed inset-0 bg-background bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,d.jsxs)("div",{className:`max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-xl ${o} p-6`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:p,children:"Detailed Strength Analysis"}),(0,d.jsxs)("p",{className:q,children:[c," - ",e.charAt(0).toUpperCase()+e.slice(1)," View"]})]}),(0,d.jsx)("button",{onClick:b,className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${j?"bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"}`,children:"✕ Close"})]}),n?(0,d.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-32 rounded-lg"},b))}):r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h4",{className:q,children:"Performance Overview"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDFCB️"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Current Max"})]}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-blue-500",children:[r.currentMax,"kg"]})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83C\uDFAF"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Best 1RM Est."})]}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-green-500",children:[r.bestOneRM,"kg"]})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:(f=r.progressPercentage)>10?"\uD83D\uDE80":f>0?"\uD83D\uDCC8":f>-5?"\uD83D\uDCCA":"\uD83D\uDCC9"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Total Progress"})]}),(0,d.jsxs)("p",{className:`text-2xl font-bold ${(g=r.progressPercentage)>10?"text-green-500":g>0?"text-blue-500":g>-5?"text-yellow-500":"text-red-500"}`,children:[r.totalProgress>0?"+":"",r.totalProgress,"kg"]}),(0,d.jsxs)("p",{className:`text-xs ${j?"text-gray-500":"text-gray-600"}`,children:["(",r.progressPercentage>0?"+":"",r.progressPercentage,"%)"]})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCCA"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Avg Weight"})]}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-purple-500",children:[r.averageWeight,"kg"]})]})]})]}),(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h4",{className:q,children:"Volume Analysis"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC8"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Total Volume"})]}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-orange-500",children:[r.totalVolume.toLocaleString(),"kg"]}),(0,d.jsx)("p",{className:`text-xs mt-1 ${j?"text-gray-500":"text-gray-600"}`,children:"across all sessions"})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"⚡"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Avg per Session"})]}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-cyan-500",children:[r.avgVolumePerSession.toLocaleString(),"kg"]}),(0,d.jsx)("p",{className:`text-xs mt-1 ${j?"text-gray-500":"text-gray-600"}`,children:"volume per workout"})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDD22"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Total Reps"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-indigo-500",children:r.totalReps.toLocaleString()}),(0,d.jsxs)("p",{className:`text-xs mt-1 ${j?"text-gray-500":"text-gray-600"}`,children:["in ",r.totalSets," sets"]})]})]})]}),(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h4",{className:q,children:"Training Consistency"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC5"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Total Sessions"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold text-emerald-500",children:r.totalSessions}),(0,d.jsxs)("p",{className:`text-xs mt-1 ${j?"text-gray-500":"text-gray-600"}`,children:["over ",r.daysSpanned," days"]})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCCA"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Frequency"})]}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-teal-500",children:[r.sessionsPerWeek,"x"]}),(0,d.jsx)("p",{className:`text-xs mt-1 ${j?"text-gray-500":"text-gray-600"}`,children:"per week average"})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg ${j?"bg-gray-800":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-xl",children:"⭐"}),(0,d.jsx)("h5",{className:`text-xs font-medium ${j?"text-gray-400":"text-gray-600"}`,children:"Consistency"})]}),(0,d.jsx)("p",{className:`text-2xl font-bold ${r.sessionsPerWeek>=2?"text-green-500":r.sessionsPerWeek>=1?"text-yellow-500":"text-red-500"}`,children:r.sessionsPerWeek>=2?"Great":r.sessionsPerWeek>=1?"Good":"Low"}),(0,d.jsx)("p",{className:`text-xs mt-1 ${j?"text-gray-500":"text-gray-600"}`,children:"training regularity"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:q,children:"Complete Session History"}),(0,d.jsx)("div",{className:`rounded-lg border ${j?"border-gray-700":"border-gray-200"} overflow-hidden max-h-64 overflow-y-auto mobile-table-container`,children:(0,d.jsxs)("div",{className:"mobile-table",children:[(0,d.jsxs)("div",{className:`grid grid-cols-6 gap-2 sm:gap-4 px-2 sm:px-4 py-3 text-xs font-medium border-b sticky top-0 ${j?"text-gray-400 border-gray-700 bg-gray-800":"text-gray-600 border-gray-200 bg-gray-50"}`,children:[(0,d.jsx)("div",{children:"Date"}),(0,d.jsx)("div",{children:"Weight"}),(0,d.jsx)("div",{children:"Reps"}),(0,d.jsx)("div",{children:"Sets"}),(0,d.jsx)("div",{children:"Volume"}),(0,d.jsx)("div",{children:"1RM Est."})]}),k?.map((a,b)=>(0,d.jsxs)("div",{className:`grid grid-cols-6 gap-2 sm:gap-4 px-2 sm:px-4 py-3 text-xs sm:text-sm ${b!==(k?.length??0)-1?`border-b ${j?"border-gray-700":"border-gray-200"}`:""} ${0===b?j?"bg-blue-900/20":"bg-blue-50":""}`,children:[(0,d.jsx)("div",{className:j?"text-gray-300":"text-gray-700",children:new Date(a.workoutDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,d.jsxs)("div",{className:"font-medium text-foreground",children:[a.weight,"kg"]}),(0,d.jsx)("div",{className:j?"text-gray-300":"text-gray-700",children:a.reps}),(0,d.jsx)("div",{className:j?"text-gray-300":"text-gray-700",children:a.sets}),(0,d.jsxs)("div",{className:"font-medium text-foreground",children:[(a.weight*a.reps*a.sets).toLocaleString(),"kg"]}),(0,d.jsxs)("div",{className:"font-medium text-foreground",children:[a.oneRMEstimate,"kg"]})]},b))]})})]})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,d.jsx)("p",{className:`text-lg font-medium mb-2 ${j?"text-gray-300":"text-gray-700"}`,children:"No strength data found"}),(0,d.jsxs)("p",{className:`text-sm ${j?"text-gray-400":"text-gray-600"}`,children:["Complete some workouts with ",c," to see detailed analysis."]})]})]})})}function u(){let[a,b]=(0,e.useState)(""),[c,f]=(0,e.useState)("month"),[g,h]=(0,e.useState)(!1),{data:i,isLoading:j}=l.F.progress.getExerciseList.useQuery(),{data:k,isLoading:m}=l.F.progress.getStrengthProgression.useQuery({exerciseName:a,timeRange:c},{enabled:!!a}),n="text-sm font-medium mb-2 text-content-secondary",o=k?Math.max(...k.map(a=>a.weight)):0,p=k?Math.min(...k.map(a=>a.weight)):0,q=o-p||1,r=k?[...k].reverse():[];return(0,d.jsxs)("div",{className:"transition-all duration-300 rounded-xl border shadow-sm glass-surface p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4 text-content-primary",children:"Strength Progression"}),(0,d.jsx)("div",{className:"flex space-x-1 bg-surface-secondary rounded-lg p-1 border border-default",children:["week","month","year"].map(a=>(0,d.jsx)("button",{onClick:()=>f(a),className:`px-2 py-1 text-xs font-medium rounded-md transition-all ${c===a?"bg-[var(--color-primary)] text-background shadow-sm":"text-content-muted hover:text-content-primary"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("label",{htmlFor:"exercise-select",className:n,children:"Select Exercise"}),j?(0,d.jsx)("div",{className:"animate-pulse bg-surface-secondary h-10 rounded-lg"}):(0,d.jsxs)("select",{id:"exercise-select",value:a,onChange:a=>b(a.target.value),className:"px-3 py-2 text-sm rounded-lg border transition-colors bg-surface-secondary border-default text-content-primary focus:border-interactive-primary w-full",children:[(0,d.jsx)("option",{value:"",children:"Choose an exercise..."}),i?.map(a=>(0,d.jsx)("option",{value:a.exerciseName,children:a.exerciseName},a.exerciseName))]})]}),a?(0,d.jsx)(d.Fragment,{children:m?(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"animate-pulse bg-surface-secondary h-64 rounded-lg"}),(0,d.jsx)("div",{className:"animate-pulse bg-surface-secondary h-32 rounded-lg"})]}):k&&k.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h3",{className:n,children:"Top Set Weight Progress"}),(0,d.jsx)("div",{className:"relative h-64 p-4 rounded-lg bg-surface-secondary border border-default",children:(0,d.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 400 200",children:[(0,d.jsx)("defs",{children:(0,d.jsx)("pattern",{id:"grid",width:"40",height:"20",patternUnits:"userSpaceOnUse",children:(0,d.jsx)("path",{d:"M 40 0 L 0 0 0 20",fill:"none",stroke:"var(--color-border)",strokeWidth:"0.5"})})}),(0,d.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),r.map((a,b)=>{let c=b/Math.max(1,r.length-1)*360+20,e=180-(a.weight-p)/q*160;return(0,d.jsxs)("g",{children:[b<r.length-1&&(0,d.jsx)("line",{x1:c,y1:e,x2:(b+1)/Math.max(1,r.length-1)*360+20,y2:180-(r[b+1].weight-p)/q*160,stroke:"var(--color-chart-1)",strokeWidth:"3",opacity:"0.8"}),(0,d.jsx)("circle",{cx:c,cy:e,r:"4",fill:"var(--color-chart-1)",stroke:"white",strokeWidth:"2",className:"hover:r-6 cursor-pointer transition-all",style:{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))"}}),(0,d.jsxs)("text",{x:c,y:e-10,textAnchor:"middle",className:"text-xs font-medium",fill:"var(--color-text)",children:[a.weight,"kg"]})]},b)}),(0,d.jsxs)("text",{x:"10",y:"20",className:"text-xs font-medium",fill:"var(--color-text-secondary)",children:[o,"kg"]}),(0,d.jsxs)("text",{x:"10",y:"190",className:"text-xs font-medium",fill:"var(--color-text-secondary)",children:[p,"kg"]})]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface-secondary border border-default",children:[(0,d.jsx)("p",{className:n,children:"Current Max"}),(0,d.jsxs)("p",{className:"text-xl font-bold text-[var(--color-primary)]",children:[Math.max(...k.map(a=>a.weight)),"kg"]})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface-secondary border border-default",children:[(0,d.jsx)("p",{className:n,children:"Best 1RM Est."}),(0,d.jsxs)("p",{className:"text-xl font-bold text-[var(--color-success)]",children:[Math.max(...k.map(a=>a.oneRMEstimate)),"kg"]})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface-secondary border border-default",children:[(0,d.jsx)("p",{className:n,children:"Sessions"}),(0,d.jsx)("p",{className:"text-xl font-bold text-[var(--color-info)]",children:k.length})]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-surface-secondary border border-default",children:[(0,d.jsx)("p",{className:n,children:"Progress"}),(0,d.jsx)("p",{className:`text-xl font-bold ${k.length>=2&&k[0].weight>k[k.length-1].weight?"text-[var(--color-success)]":k.length>=2&&k[0].weight<k[k.length-1].weight?"text-[var(--color-danger)]":"text-content-muted"}`,children:k.length>=2?`${k[0].weight>k[k.length-1].weight?"+":""}${(k[0].weight-k[k.length-1].weight).toFixed(1)}kg`:"N/A"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:n,children:"Recent Sessions"}),(0,d.jsx)("button",{onClick:()=>h(!0),className:"btn-secondary",children:"View Details"})]}),(0,d.jsx)("div",{className:"rounded-lg border border-default overflow-hidden mobile-table-container",children:(0,d.jsxs)("div",{className:"mobile-table",children:[(0,d.jsxs)("div",{className:"grid grid-cols-5 gap-2 sm:gap-4 px-2 sm:px-4 py-3 text-xs sm:text-sm font-medium border-b border-default bg-surface-secondary text-content-muted",children:[(0,d.jsx)("div",{children:"Date"}),(0,d.jsx)("div",{children:"Weight"}),(0,d.jsx)("div",{children:"Reps"}),(0,d.jsx)("div",{children:"Sets"}),(0,d.jsx)("div",{children:"1RM Est."})]}),k.slice(0,5).map((a,b)=>(0,d.jsxs)("div",{className:`grid grid-cols-5 gap-2 sm:gap-4 px-2 sm:px-4 py-3 text-xs sm:text-sm ${b!==Math.min(4,k.length-1)?"border-b border-default":""}`,children:[(0,d.jsx)("div",{className:"text-content-secondary",children:new Date(a.workoutDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,d.jsxs)("div",{className:"font-medium text-content-primary",children:[a.weight,"kg"]}),(0,d.jsx)("div",{className:"text-content-secondary",children:a.reps}),(0,d.jsx)("div",{className:"text-content-secondary",children:a.sets}),(0,d.jsxs)("div",{className:"font-medium text-content-primary",children:[a.oneRMEstimate,"kg"]})]},b))]})})]})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,d.jsx)("p",{className:"text-lg font-medium mb-2 text-content-secondary",children:"No data found"}),(0,d.jsx)("p",{className:"text-sm text-content-muted",children:"Complete some workouts with this exercise to see your strength progression."})]})}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,d.jsx)("p",{className:"text-lg font-medium mb-2 text-content-secondary",children:"Select an Exercise"}),(0,d.jsx)("p",{className:"text-sm text-content-muted",children:"Choose an exercise from the dropdown to view your strength progression."})]}),(0,d.jsx)(t,{isOpen:g,onClose:()=>h(!1),exerciseName:a,timeRange:c})]})}function v({timeRange:a="month"}){let[b,c]=(0,e.useState)(!1),{data:f}=l.F.preferences.get.useQuery(),g=f?.enable_manual_wellness??!1,h=a=>{switch(a){case"week":return 7;case"month":default:return 30;case"year":return 365}},{data:i,isLoading:j}=l.F.wellness.getHistory.useQuery({limit:50,offset:0,startDate:new Date(Date.now()-24*h(a)*36e5),endDate:new Date},{enabled:g}),{data:k,isLoading:m}=l.F.wellness.getStats.useQuery({days:h(a)},{enabled:g});if(!g)return null;let n=i?.map(a=>({date:a.date.toISOString(),energyLevel:a.energy_level||0,sleepQuality:a.sleep_quality||0,hasNotes:!!(a.notes&&a.notes.trim().length>0)}))||[],o=a=>{if(a.length<2)return"stable";let b=a.slice(-3).reduce((a,b)=>a+b,0)/Math.min(3,a.length)-a.slice(0,-3).reduce((a,b)=>a+b,0)/Math.max(1,a.length-3);return b>.5?"improving":b<-.5?"declining":"stable"},p=o(n.map(a=>a.energyLevel)),q=o(n.map(a=>a.sleepQuality)),r=a=>{switch(a){case"improving":return"\uD83D\uDCC8";case"declining":return"\uD83D\uDCC9";default:return"➡️"}},s=a=>{switch(a){case"improving":return"var(--color-success)";case"declining":return"var(--color-danger)";default:return"var(--color-text-muted)"}};return(0,d.jsxs)("div",{className:"transition-all duration-300 glass-surface p-6",children:[(0,d.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"\uD83C\uDFAF Wellness Tracking"}),(0,d.jsx)("button",{onClick:()=>c(!b),className:"rounded-lg px-3 py-1 text-sm transition-colors",style:{backgroundColor:"var(--color-bg-surface)",borderColor:"var(--color-border)",color:"var(--color-text)"},children:b?"Hide Details":"Show Details"})]}),(0,d.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,d.jsxs)("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--color-bg-surface)"},children:[(0,d.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,d.jsx)("h3",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:"Avg Energy Level"}),(0,d.jsx)("span",{style:{color:s(p)},children:r(p)})]}),m?(0,d.jsx)("div",{className:"h-6 w-12 animate-pulse rounded",style:{backgroundColor:"var(--color-border)"}}):(0,d.jsxs)("div",{className:"flex items-baseline space-x-2",children:[(0,d.jsx)("span",{className:"text-2xl font-bold",style:{color:"var(--color-text)"},children:k?.period.avgEnergyLevel?.toFixed(1)||"0.0"}),(0,d.jsx)("span",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"/10"})]}),(0,d.jsxs)("div",{className:"mt-1 text-xs",style:{color:"var(--color-text-muted)"},children:["Recent: ",k?.recent.avgEnergyLevel?.toFixed(1)||"0.0"]})]}),(0,d.jsxs)("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--color-bg-surface)"},children:[(0,d.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,d.jsx)("h3",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:"Avg Sleep Quality"}),(0,d.jsx)("span",{style:{color:s(q)},children:r(q)})]}),m?(0,d.jsx)("div",{className:"h-6 w-12 animate-pulse rounded",style:{backgroundColor:"var(--color-border)"}}):(0,d.jsxs)("div",{className:"flex items-baseline space-x-2",children:[(0,d.jsx)("span",{className:"text-2xl font-bold",style:{color:"var(--color-text)"},children:k?.period.avgSleepQuality?.toFixed(1)||"0.0"}),(0,d.jsx)("span",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"/10"})]}),(0,d.jsxs)("div",{className:"mt-1 text-xs",style:{color:"var(--color-text-muted)"},children:["Recent: ",k?.recent.avgSleepQuality?.toFixed(1)||"0.0"]})]}),(0,d.jsxs)("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--color-bg-surface)"},children:[(0,d.jsx)("h3",{className:"mb-2 text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:"Wellness Entries"}),m?(0,d.jsx)("div",{className:"h-6 w-8 animate-pulse rounded",style:{backgroundColor:"var(--color-border)"}}):(0,d.jsxs)("div",{className:"flex items-baseline space-x-2",children:[(0,d.jsx)("span",{className:"text-2xl font-bold",style:{color:"var(--color-text)"},children:k?.period.totalEntries||0}),(0,d.jsx)("span",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"entries"})]}),(0,d.jsxs)("div",{className:"mt-1 text-xs",style:{color:"var(--color-text-muted)"},children:["Recent week: ",k?.recent.totalEntries||0]})]})]}),b&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"mb-4 text-lg font-semibold",style:{color:"var(--color-text)"},children:"Recent Wellness History"}),j?(0,d.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"h-16 animate-pulse rounded",style:{backgroundColor:"var(--color-border)"}},b))}):n.length>0?(0,d.jsx)("div",{className:"max-h-80 space-y-3 overflow-y-auto",children:n.slice(0,10).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between rounded-lg p-4",style:{backgroundColor:"var(--color-bg-surface)"},children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("span",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),a.hasNotes&&(0,d.jsx)("span",{className:"rounded px-2 py-1 text-xs",style:{backgroundColor:"color-mix(in oklab, var(--color-primary) 10%, var(--color-bg-surface))",color:"var(--color-primary)"},children:"\uD83D\uDCDD Notes"})]})}),(0,d.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"mb-1 text-xs",style:{color:"var(--color-text-muted)"},children:"Energy"}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("span",{className:"text-lg font-bold",style:{color:"var(--color-text)"},children:a.energyLevel}),(0,d.jsx)("span",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:"/10"})]}),(0,d.jsx)("div",{className:"mt-1 h-2 w-16 rounded-full",style:{backgroundColor:"var(--color-border)"},children:(0,d.jsx)("div",{className:"h-full rounded-full transition-all",style:{width:`${a.energyLevel/10*100}%`,backgroundColor:a.energyLevel>=7?"var(--color-success)":a.energyLevel>=4?"var(--color-warning)":"var(--color-danger)"}})})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"mb-1 text-xs",style:{color:"var(--color-text-muted)"},children:"Sleep"}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("span",{className:"text-lg font-bold",style:{color:"var(--color-text)"},children:a.sleepQuality}),(0,d.jsx)("span",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:"/10"})]}),(0,d.jsx)("div",{className:"mt-1 h-2 w-16 rounded-full",style:{backgroundColor:"var(--color-border)"},children:(0,d.jsx)("div",{className:"h-full rounded-full transition-all",style:{width:`${a.sleepQuality/10*100}%`,backgroundColor:a.sleepQuality>=7?"var(--color-success)":a.sleepQuality>=4?"var(--color-warning)":"var(--color-danger)"}})})]})]})]},b))}):(0,d.jsxs)("div",{className:"py-8 text-center",children:[(0,d.jsx)("div",{className:"mb-4 text-4xl",children:"\uD83C\uDFAF"}),(0,d.jsx)("p",{className:"mb-2 text-lg font-medium",style:{color:"var(--color-text)"},children:"No wellness data yet"}),(0,d.jsx)("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:"Start logging your wellness during workouts to see trends and insights here."})]})]}),!b&&n.length>0&&(0,d.jsxs)("div",{className:"mt-4 rounded-lg p-4",style:{backgroundColor:"color-mix(in oklab, var(--color-primary) 5%, var(--color-bg-surface))",borderColor:"var(--color-primary)"},children:[(0,d.jsx)("h4",{className:"mb-2 text-sm font-medium",style:{color:"var(--color-text)"},children:"\uD83D\uDCA1 Quick Insights"}),(0,d.jsxs)("div",{className:"space-y-1 text-sm",style:{color:"var(--color-text-muted)"},children:[(0,d.jsxs)("div",{children:["Energy trend:"," ",(0,d.jsxs)("span",{style:{color:s(p)},children:[r(p)," ",p]})]}),(0,d.jsxs)("div",{children:["Sleep trend:"," ",(0,d.jsxs)("span",{style:{color:s(q)},children:[r(q)," ",q]})]}),(0,d.jsxs)("div",{children:["Latest entry:"," ",n.length>0&&n[0]?new Date(n[0].date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"None"]})]})]})]})}var w=c(64772),x=c(27081);let y="text-sm font-medium mb-2 text-theme-secondary",z=[{key:"zone_zero_milli",label:"Zone 0",description:"Idle / warm-up",color:"var(--color-chart-1)"},{key:"zone_one_milli",label:"Zone 1",description:"50-60% (Recovery)",color:"var(--color-chart-2)"},{key:"zone_two_milli",label:"Zone 2",description:"60-70% (Base)",color:"var(--color-chart-3)"},{key:"zone_three_milli",label:"Zone 3",description:"70-80% (Aerobic)",color:"var(--color-chart-4)"},{key:"zone_four_milli",label:"Zone 4",description:"80-90% (Threshold)",color:"var(--color-chart-5)"},{key:"zone_five_milli",label:"Zone 5",description:"90-100% (Max)",color:"var(--color-chart-6, var(--color-chart-1))"}],A=a=>{if("number"==typeof a&&Number.isFinite(a))return a;if("string"==typeof a&&a.trim().length>0){let b=Number(a);return Number.isFinite(b)?b:null}return null},B=a=>null===a?"--":`${Math.round(a)}%`;function C(){let{data:a,isLoading:b}=l.F.whoop.getIntegrationStatus.useQuery(),c=a?.isConnected??!1,e=l.F.whoop.getLatestRecoveryData.useQuery(void 0,{enabled:c,retry:0}),f=l.F.whoop.getWorkouts.useQuery(void 0,{enabled:c}),h=e.data,i=f.data??[],j=i[0],m=A(h?.recovery_score),n=A(h?.sleep_performance),o=A(h?.hrv_now_ms),p=A(h?.hrv_baseline_ms),q=A(h?.rhr_now_bpm),r=A(h?.rhr_baseline_bpm),s=(a=>{if(!a||"object"!=typeof a)return null;let b=a.score;return b&&"object"==typeof b?A(b.strain):null})(j)??null,t=(a=>{if(!a||"object"!=typeof a)return null;let b=a.score;if(b&&"object"==typeof b){let a=A(b.average_heart_rate);if(null!==a)return a}let c=a.during;return c&&"object"==typeof c?A(c.average_heart_rate):null})(j),u=(a=>{if(!a?.start||!a?.end)return null;let b="string"==typeof a.start?new Date(a.start):a.start,c=("string"==typeof a.end?new Date(a.end):a.end).getTime()-b.getTime();return c>0?c/6e4:null})(j),v=(a=>{if(!a||"object"!=typeof a)return[];let b=z.map(b=>{let c=A(a[b.key])??0;return{...b,milliseconds:c}}),c=b.reduce((a,b)=>a+b.milliseconds,0);return 0===c?[]:b.map(a=>({label:a.label,description:a.description,color:a.color,percentage:Math.round(a.milliseconds/c*100)}))})(j?.zone_duration??null),C=c&&(e.isLoading||f.isLoading),D=e.error?.data?.code,E=f.error?.message,F=!!(a?.isExpired||"UNAUTHORIZED"===D),G=!C&&!F&&c&&!h&&(0===i.length||"NOT_FOUND"===D),H=null===m?{emoji:"⚪️",color:"var(--color-muted)",message:"No recovery data yet"}:m>=67?{emoji:"\uD83D\uDFE2",color:"var(--color-success)",message:"You're primed for a hard session"}:m>=34?{emoji:"\uD83D\uDFE1",color:"var(--color-warning)",message:"Dial intensity to a manageable level"}:{emoji:"\uD83D\uDD34",color:"var(--color-danger)",message:"Prioritise recovery work today"},I=null===m?"We need fresh recovery data to tailor training intensity. Run a WHOOP sync to update.":m>=67?"Recovery is in the green. Plan heavy strength or high-intensity work while you’re fresh.":m>=34?"Recovery is moderate. Keep today's work controlled and focus on quality movement.":"Recovery is in the red. Prioritise mobility, zone-2 cardio, or complete rest.",J=((a,b)=>{if(null===a||null===b)return"HRV trend is unavailable. A fresh sync will surface readiness signals.";if(0===b)return"Baseline HRV hasn’t been established yet. Keep syncing to calibrate.";let c=(a-b)/b*100;return c>=5?`HRV is ${c.toFixed(1)}% above baseline — your nervous system is handling the load well.`:c<=-5?`HRV is ${Math.abs(c).toFixed(1)}% below baseline — back off volume to recover fully.`:"HRV is tracking near baseline. Stay consistent with sleep and hydration to keep it stable."})(o,p),K=((a,b)=>{if(null===a||null===b)return"Resting heart rate baseline not available yet.";let c=a-b;return c<=-2?`Resting HR is ${Math.abs(c).toFixed(1)} bpm below baseline — excellent recovery trend.`:c>=3?`Resting HR is ${c.toFixed(1)} bpm above baseline — watch fatigue and consider an easier day.`:"Resting HR is holding steady, which supports your current training load."})(q,r);return(0,d.jsxs)("div",{className:"glass-surface transition-all duration-300 rounded-xl p-6",children:[(0,d.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4 text-theme-primary",children:"WHOOP Integration"}),(0,d.jsx)("p",{className:y,children:"Recovery and performance insights"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:`h-3 w-3 rounded-full ${c?"bg-success":"bg-muted"} ${b?"animate-pulse":""}`}),(0,d.jsx)("span",{className:"text-theme-secondary text-sm font-medium",children:b?"Checking...":c?F?"Re-auth required":"Connected":"Not Connected"})]})]}),c?(0,d.jsxs)("div",{className:"space-y-8",children:[F&&(0,d.jsx)(w.Fc,{variant:"destructive",children:(0,d.jsxs)(w.TN,{className:"flex flex-col gap-2 text-sm",children:[(0,d.jsx)("span",{children:"Your WHOOP session has expired. Reconnect to resume syncing and keep recovery scores fresh."}),(0,d.jsx)(k.Button,{asChild:!0,size:"sm",variant:"secondary",className:"self-start",children:(0,d.jsx)(g(),{href:"/connect-whoop",children:"Reconnect WHOOP"})})]})}),C?(0,d.jsx)("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-4",children:Array.from({length:4}).map((a,b)=>(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsx)(x.EA,{className:"mb-2 h-4 w-16"}),(0,d.jsx)(x.EA,{className:"h-6 w-24"}),(0,d.jsx)(x.EA,{className:"mt-3 h-3 w-20"})]},b))}):(0,d.jsxs)(d.Fragment,{children:[h&&!F&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:y,children:"Today's Recovery"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-4",children:[(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:H.emoji}),(0,d.jsx)("h4",{className:"text-theme-secondary text-xs font-medium",children:"Recovery"})]}),(0,d.jsx)("p",{className:"text-2xl font-bold",style:{color:H.color},children:B(m)}),(0,d.jsx)("p",{className:"text-theme-muted text-xs",children:H.message})]}),(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:null===s?"\uD83D\uDE0C":s>=18?"\uD83D\uDD25":s>=14?"⚡":s>=10?"\uD83D\uDCAA":"\uD83D\uDE42"}),(0,d.jsx)("h4",{className:"text-theme-secondary text-xs font-medium",children:"Latest Strain"})]}),(0,d.jsx)("p",{className:"text-warning text-2xl font-bold",children:null!==s?s.toFixed(1):"--"}),(0,d.jsx)("p",{className:"text-theme-muted text-xs",children:t?`${Math.round(t)} bpm avg HR`:"Awaiting synced workout"})]}),(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDE34"}),(0,d.jsx)("h4",{className:"text-theme-secondary text-xs font-medium",children:"Sleep Performance"})]}),(0,d.jsx)("p",{className:"text-info text-2xl font-bold",children:B(n)}),(0,d.jsx)("p",{className:"text-theme-muted text-xs",children:null!==n?"Relative to WHOOP target":"Sync sleep data to populate"})]}),(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"mb-1 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCCA"}),(0,d.jsx)("h4",{className:"text-theme-secondary text-xs font-medium",children:"HRV (ms)"})]}),(0,d.jsx)("p",{className:"text-primary text-2xl font-bold",children:null!==o?Math.round(o):"--"}),(0,d.jsxs)("p",{className:"text-theme-muted text-xs",children:["Baseline"," ",null!==p?Math.round(p):"--"]})]})]})]}),G&&(0,d.jsx)("div",{className:"bg-surface text-theme-secondary rounded-lg p-6 text-center text-sm",children:"No cached WHOOP data yet. Run a sync from the workouts page to pull your latest recovery metrics."}),j&&!F&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:y,children:"Latest WHOOP Workout"}),(0,d.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3",children:[(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsx)("p",{className:"text-theme-secondary text-xs",children:"Sport"}),(0,d.jsx)("p",{className:"text-theme-primary text-lg font-semibold",children:j.sport_name??"Workout"})]}),(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsx)("p",{className:"text-theme-secondary text-xs",children:"When"}),(0,d.jsx)("p",{className:"text-theme-primary text-lg font-semibold",children:(a=>{if(!a)return"--";let b="string"==typeof a?new Date(a):a;return new Intl.DateTimeFormat("en-GB",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(b)})(j?.start??null)})]}),(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsx)("p",{className:"text-theme-secondary text-xs",children:"Duration"}),(0,d.jsx)("p",{className:"text-theme-primary text-lg font-semibold",children:(a=>{if(null===a)return"--";let b=Math.round(a),c=Math.floor(b/60),d=b%60;return c>0?`${c}h ${d}m`:`${d}m`})(u)})]})]})]}),v.length>0&&!F&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:y,children:"Heart Rate Zones (last workout)"}),(0,d.jsx)("div",{className:"bg-surface rounded-lg p-4",children:(0,d.jsx)("div",{className:"space-y-3",children:v.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex flex-1 items-center space-x-3",children:[(0,d.jsx)("div",{className:"h-4 w-4 rounded",style:{backgroundColor:a.color}}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-theme-primary text-sm font-medium",children:a.label}),(0,d.jsx)("p",{className:"text-theme-secondary text-xs",children:a.description})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"bg-muted h-2 w-24 rounded-full",children:(0,d.jsx)("div",{className:"h-2 rounded-full",style:{width:`${a.percentage}%`,backgroundColor:a.color}})}),(0,d.jsxs)("span",{className:"text-theme-secondary w-10 text-right text-sm font-medium",children:[a.percentage,"%"]})]})]},a.label))})})]}),E&&!F&&(0,d.jsx)(w.Fc,{variant:"destructive",children:(0,d.jsxs)(w.TN,{className:"text-sm",children:["Failed to load WHOOP workouts: ",E]})}),!F&&(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,d.jsxs)("div",{className:"border-l-success bg-surface rounded-lg border-l-4 p-4",children:[(0,d.jsxs)("div",{className:"mb-2 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCA1"}),(0,d.jsx)("h4",{className:"text-theme-primary font-medium",children:"Training Recommendation"})]}),(0,d.jsx)("p",{className:"text-theme-secondary text-sm",children:I})]}),(0,d.jsxs)("div",{className:"border-l-info bg-surface rounded-lg border-l-4 p-4",children:[(0,d.jsxs)("div",{className:"mb-2 flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC8"}),(0,d.jsx)("h4",{className:"text-theme-primary font-medium",children:"Recovery Signals"})]}),(0,d.jsx)("p",{className:"text-theme-secondary mb-2 text-sm",children:J}),(0,d.jsx)("p",{className:"text-theme-muted text-xs",children:K})]})]})]})]}):(0,d.jsxs)("div",{className:"py-12 text-center",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("div",{className:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-pink-500",children:(0,d.jsx)("span",{className:"text-background text-2xl font-bold",children:"W"})}),(0,d.jsx)("h3",{className:"text-theme-primary mb-2 text-lg font-semibold",children:"Connect Your WHOOP Device"}),(0,d.jsx)("p",{className:"text-theme-secondary mb-6 text-sm",children:"Sync recovery, strain, and sleep data to unlock personalised coaching."})]}),(0,d.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsx)("div",{className:"mb-2 text-2xl",children:"\uD83D\uDCA4"}),(0,d.jsx)("h4",{className:"text-theme-primary font-medium",children:"Sleep Tracking"}),(0,d.jsx)("p",{className:"text-theme-secondary text-xs",children:"Monitor sleep quality and recovery"})]}),(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsx)("div",{className:"mb-2 text-2xl",children:"❤️"}),(0,d.jsx)("h4",{className:"text-theme-primary font-medium",children:"Heart Rate Zones"}),(0,d.jsx)("p",{className:"text-theme-secondary text-xs",children:"Optimise training intensity"})]}),(0,d.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[(0,d.jsx)("div",{className:"mb-2 text-2xl",children:"\uD83D\uDD0B"}),(0,d.jsx)("h4",{className:"text-theme-primary font-medium",children:"Recovery Insights"}),(0,d.jsx)("p",{className:"text-theme-secondary text-xs",children:"Know when to push or recover"})]})]}),(0,d.jsx)(g(),{href:"/connect-whoop",className:"text-background inline-block rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-3 font-medium shadow-lg transition-all hover:scale-105 hover:from-purple-600 hover:to-pink-600",children:"Connect WHOOP"})]})]})}function D(){let[a,b]=(0,e.useState)("month"),{data:c,isLoading:f}=l.F.progress.getVolumeProgression.useQuery({timeRange:a}),{data:g,isLoading:m}=l.F.progress.getConsistencyStats.useQuery({timeRange:a}),{data:n,isLoading:q}=l.F.progress.getExerciseList.useQuery(),t="bg-card/90 border border-border rounded-lg shadow-sm transition-all duration-300 card-interactive hover:-translate-y-1 hover:shadow-xl",w=(0,e.useMemo)(()=>c?c.reduce((a,b)=>a+(b.totalVolume??0),0):0,[c]),x=(0,e.useMemo)(()=>{if(!c||c.length<2)return 0;let a=c[0]?.totalVolume??0;return(c[c.length-1]?.totalVolume??0)-a},[c]),y=(g?.frequency??0)-3,z=(0,d.jsx)("div",{className:"flex items-center gap-2 rounded-full bg-muted/40 p-1",children:["week","month","year"].map(c=>(0,d.jsx)("button",{type:"button",onClick:()=>b(c),"aria-pressed":a===c,className:(0,h.cn)("rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-wide transition-colors",a===c?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-primary/10"),children:c},c))});return(0,d.jsxs)(i,{title:"Progress Dashboard",description:"Readiness, PRs, and habits that keep your training on track.",backHref:"/",backLabel:"Dashboard",actions:z,contentClassName:"space-y-10",children:[(0,d.jsx)("nav",{className:"flex flex-wrap gap-2","aria-label":"Progress sections",children:[{href:"#achievements",label:"Achievements"},{href:"#personal-records",label:"PRs"},{href:"#consistency",label:"Consistency"},{href:"#wellness",label:"Wellness"},{href:"#whoop",label:"Whoop"}].map(a=>(0,d.jsx)("a",{href:a.href,className:(0,h.cn)((0,k.r)({variant:"ghost",size:"sm"}),"rounded-full border border-border/50 text-xs uppercase tracking-wide text-muted-foreground hover:border-primary/40 hover:text-primary"),children:a.label},a.href))}),(0,d.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,d.jsxs)("div",{className:t+" p-6",children:[(0,d.jsx)("h3",{className:"text-sm font-medium mb-2 text-[var(--color-card-heading)]",children:"Total Volume"}),f?(0,d.jsx)("div",{className:"animate-pulse h-8 w-20 rounded bg-border"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{className:"text-2xl font-serif font-black text-foreground",children:[w.toLocaleString()," kg"]}),(0,d.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:x>=0?`+${Math.round(x)} kg vs. start of ${a}`:`${Math.round(x)} kg vs. start of ${a}`})]})]}),(0,d.jsxs)("div",{className:t+" p-6",children:[(0,d.jsx)("h3",{className:"text-sm font-medium mb-2 text-[var(--color-card-heading)]",children:"Workouts"}),m?(0,d.jsx)("div",{className:"animate-pulse h-8 w-12 rounded bg-border"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"text-2xl font-serif font-black text-foreground",children:g?.totalWorkouts??0}),(0,d.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:`${"week"===a?"This week":`Last ${a}`} you logged ${g?.totalWorkouts??0} sessions.`})]})]}),(0,d.jsxs)("div",{className:t+" p-6",children:[(0,d.jsx)("h3",{className:"text-sm font-medium mb-2 text-[var(--color-card-heading)]",children:"Weekly Frequency"}),m?(0,d.jsx)("div",{className:"animate-pulse h-8 w-16 rounded bg-border"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{className:"text-2xl font-serif font-black text-foreground",children:[g?.frequency??0,"x"]}),(0,d.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:`${y>=0?"+":""}${y.toFixed(1)} vs. target of 3/week`})]})]}),(0,d.jsxs)("div",{className:t+" p-6",children:[(0,d.jsx)("h3",{className:"text-sm font-medium mb-2 text-[var(--color-card-heading)]",children:"Current Streak"}),m?(0,d.jsx)("div",{className:"animate-pulse h-8 w-12 rounded bg-border"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{className:"text-2xl font-serif font-black text-foreground",children:[g?.currentStreak??0," days"]}),(0,d.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:["Longest streak: ",g?.longestStreak??0," days"]})]})]})]}),(0,d.jsxs)("section",{id:"achievements",className:"space-y-4",children:[(0,d.jsxs)("header",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Recent achievements"}),(0,d.jsxs)(j.E,{variant:"secondary",className:"bg-primary/10 text-primary",children:["Last ",a]})]}),(0,d.jsx)(s,{})]}),(0,d.jsxs)("section",{className:t+" p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-serif font-black mb-4 gradient-text-accent",children:"Your Exercises"}),q?(0,d.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"animate-pulse h-12 rounded bg-border"},b))}):n&&n.length>0?(0,d.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:n.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted hover:bg-primary/5 transition-colors",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-foreground",children:a.exerciseName}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Last used: ",new Date(a.lastUsed).toLocaleDateString()]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("p",{className:"text-sm font-medium text-muted-foreground",children:[a.totalSets," sets"]})})]},b))}):(0,d.jsx)("p",{className:"text-center py-8 text-muted-foreground",children:"No exercises found. Complete some workouts to see your progress!"})]}),(0,d.jsx)("section",{id:"personal-records",children:(0,d.jsx)(r,{})}),(0,d.jsx)("section",{id:"volume",children:(0,d.jsx)(u,{})}),(0,d.jsx)("section",{children:(0,d.jsx)(p,{})}),(0,d.jsx)("section",{id:"consistency",children:(0,d.jsx)(o,{})}),(0,d.jsx)("section",{id:"wellness",children:(0,d.jsx)(v,{timeRange:a})}),(0,d.jsx)("section",{id:"whoop",children:(0,d.jsx)(C,{})})]})}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64772:(a,b,c)=>{"use strict";c.d(b,{Fc:()=>h,TN:()=>j,XL:()=>i});var d=c(21124);c(38301);var e=c(26691),f=c(44943);let g=(0,e.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,f.cn)(g({variant:b}),a),...c})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"alert-title",className:(0,f.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"alert-description",className:(0,f.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...b})}},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},94445:(a,b,c)=>{Promise.resolve().then(c.bind(c,40117))}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[5873,1428,3708,1492,7372,6263],()=>b(b.s=45310));module.exports=c})();