/* Base tokens shared by all dark themes */
@import "tailwindcss";

/* Typography and layout scales */
@theme {
  --font-sans: var(--font-ui), ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-display: var(--font-display-internal, var(--font-ui));

  /* Layout and design tokens (no color defaults - let themes handle colors) */
  --radius-card: 0.75rem;
  --shadow-focus: 0 0 0 2px color-mix(in oklab, var(--color-primary) 50%, transparent);

  --shadow-xs: 0 1px 2px rgba(0,0,0,.15);
  --shadow-sm: 0 2px 8px rgba(0,0,0,.18);
  --shadow-md: 0 6px 18px rgba(0,0,0,.22);
  --shadow-lg: 0 12px 30px rgba(0,0,0,.28);

  /* Motion defaults (overridden by variants as needed) */
  --motion-duration-fast: 160ms;
  --motion-duration-base: 200ms;
  --motion-duration-slow: 240ms;
  --motion-ease: cubic-bezier(0.2, 0.8, 0.2, 1);
  --motion-spring: cubic-bezier(0.2, 0.8, 0.2, 1.2);

  /* Tailwind color mappings to CSS variables */
  --color-black: var(--color-foreground);
  --color-white: var(--color-background);
}

/* Global defaults - no theme-specific colors here anymore */
:root { 
  color-scheme: light;
}

html.dark { color-scheme: dark; }

body {
  background-color: var(--color-bg-app);
  color: var(--color-text);
}


/* Buttons */
.btn-primary {
  @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors;
  background-image: var(--btn-primary-bg, none);
  background-color: var(--btn-primary-bg-color, var(--color-primary));
  color: var(--btn-primary-fg);
  border: 1px solid var(--btn-primary-border, transparent);
}
.btn-primary:hover { background-color: var(--btn-primary-bg-hover, var(--color-primary-hover)); }
.btn-primary:active { background-color: var(--btn-primary-bg-active, var(--color-primary-active)); }
.btn-primary:focus-visible { outline: none; box-shadow: var(--shadow-focus); }
.btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }

.btn-secondary {
  @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors;
  background-color: var(--btn-secondary-bg, transparent);
  color: var(--btn-secondary-fg, var(--color-text));
  border: 1px solid var(--btn-secondary-border, var(--color-border));
}
.btn-secondary:hover {
  background-color: var(--btn-secondary-bg-hover, color-mix(in oklab, var(--color-bg-surface) 85%, white 15%));
}

.btn-ghost {
  @apply inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-medium transition-colors;
  background-color: transparent;
  color: var(--btn-ghost-fg, var(--color-text-secondary));
}
.btn-ghost:hover { background-color: color-mix(in oklab, var(--color-bg-surface) 80%, black 20%); }

.btn-destructive {
  @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors;
  background-color: var(--color-danger);
  color: var(--btn-destructive-fg, var(--color-text));
}

.btn-success {
  @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors;
  background-color: var(--color-success);
  color: var(--btn-success-fg, white);
}

/* Links */
.link-primary { @apply underline-offset-4 transition-colors; color: var(--color-primary); }
.link-primary:hover { color: var(--color-primary-hover); }

/* Layout helpers */
.section { @apply py-6 md:py-8; }
.container-default { @apply container mx-auto px-4 md:px-6; }

/* Motion respect */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* Pulse animation for skeleton loading states */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Glass utilities - base structure (colors defined in theme files) */
.glass-surface {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: var(--shadow-sm);
}
.glass-header {
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}
.glass-footer {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.glass-hairline {
  border-width: 1px;
  border-style: solid;
}

/* Backdrop gradient helper - colors defined in theme files */
.bg-horizon {
  background: var(--gradient-shell-radial);
}
