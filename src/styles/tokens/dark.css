/* Dark Theme - Based on mockup OKLCH colors */
@import "tailwindcss";

/* Apply theme when data-theme="dark" or system dark mode */
[data-theme="dark"],
[data-theme="system"] html.dark,
html.dark {
  /* Core colors from mockup */
  --color-bg-app: oklch(0.145 0 0);           /* Deep black background */
  --color-bg-surface: oklch(0.205 0 0);       /* Slightly lighter surface */
  --color-border: oklch(0.269 0 0);           /* Subtle borders */
  
  /* Foreground/Background tokens for black/white replacement */
  --color-foreground: oklch(0.985 0 0);       /* Light foreground (replaces white) */
  --color-background: oklch(0.145 0 0);       /* Dark background (replaces black) */
  
  /* Text hierarchy */
  --color-text: oklch(0.985 0 0);             /* Near white */
  --color-text-secondary: oklch(0.708 0 0);   /* Muted text */
  --color-text-muted: oklch(0.556 0 0);       /* Even more muted */
  --color-card: oklch(0.205 0 0);             /* Card background */
  
  /* Primary accent - high contrast white */
  --color-primary: oklch(0.985 0 0);
  --color-primary-hover: oklch(0.9 0 0);
  --color-primary-active: oklch(0.85 0 0);
  
  /* Secondary colors */
  --color-secondary: oklch(0.269 0 0);
  --color-secondary-hover: oklch(0.32 0 0);
  
  /* Semantic colors */
  --color-success: oklch(0.696 0.17 162.48);     /* Green */
  --color-warning: oklch(0.769 0.188 70.08);     /* Yellow */
  --color-danger: oklch(0.637 0.237 25.331);     /* Red */
  --color-info: oklch(0.488 0.243 264.376);      /* Blue */
  
  /* Chart colors from mockup */
  --color-chart-1: oklch(0.488 0.243 264.376);   /* Blue */
  --color-chart-2: oklch(0.696 0.17 162.48);     /* Green */
  --color-chart-3: oklch(0.769 0.188 70.08);     /* Yellow */
  --color-chart-4: oklch(0.627 0.265 303.9);     /* Purple */
  --color-chart-5: oklch(0.645 0.246 16.439);    /* Orange */
  
  /* Component-specific */
  --color-input: oklch(0.269 0 0);
  --color-ring: oklch(0.439 0 0);
  
  /* Shadows - darker for better contrast */
  --shadow-xs: 0 1px 2px rgba(0,0,0,.25);
  --shadow-sm: 0 2px 8px rgba(0,0,0,.35);
  --shadow-md: 0 6px 18px rgba(0,0,0,.45);
  --shadow-lg: 0 12px 30px rgba(0,0,0,.55);
  
  /* Focus shadow with primary color */
  --shadow-focus: 0 0 0 2px color-mix(in oklab, oklch(0.985 0 0) 30%, transparent);
  
  /* Gradient tokens for subtle backgrounds */
  --gradient-subtle: linear-gradient(180deg, oklch(0.145 0 0) 0%, oklch(0.205 0 0) 100%);
  --gradient-surface: linear-gradient(180deg, oklch(0.205 0 0) 0%, oklch(0.269 0 0) 100%);
  --gradient-primary: linear-gradient(135deg, oklch(0.985 0 0) 0%, oklch(0.9 0 0) 100%);
  --gradient-accent: linear-gradient(135deg, oklch(0.488 0.243 264.376) 0%, oklch(0.627 0.265 303.9) 100%);
  
  /* App shell gradients - subtle radial for backgrounds */
  --gradient-shell-radial: radial-gradient(1200px 800px at 30% 20%, oklch(0.145 0 0) 0%, oklch(0.205 0 0) 60%, oklch(0.269 0 0) 100%);
  --gradient-header-linear: linear-gradient(180deg, oklch(0.205 0 0) 0%, oklch(0.269 0 0) 100%);
  
  /* Glass effect colors for dark theme */
  --glass-highlight: oklch(0.985 0 0 / 0.05);
  --glass-accent: oklch(0.488 0.243 264.376 / 0.1);
  --glass-border-mix: oklch(0.985 0 0 / 0.3);
  
  /* Button overrides for v1dark theme */
  --btn-primary-bg-color: oklch(0.985 0 0);
  --btn-primary-fg: oklch(0.145 0 0);
  --btn-primary-bg-hover: oklch(0.9 0 0);
  --btn-primary-bg-active: oklch(0.85 0 0);
  
  --btn-secondary-bg: oklch(0.269 0 0);
  --btn-secondary-fg: oklch(0.985 0 0);
  --btn-secondary-border: oklch(0.269 0 0);
  --btn-secondary-bg-hover: oklch(0.32 0 0);
  
  --btn-ghost-fg: oklch(0.708 0 0);
}

/* Ensure dark mode is active for dark theme */
[data-theme="dark"],
[data-theme="system"] html.dark,
html.dark {
  color-scheme: dark;
}

/* Glass effects specific to dark */
[data-theme="dark"] .glass-surface {
  background:
    radial-gradient(1200px 600px at 20% -10%, oklch(0.985 0 0 / 0.05) 0%, transparent 60%),
    radial-gradient(800px 400px at 110% 0%, oklch(0.488 0.243 264.376 / 0.1) 0%, transparent 60%),
    color-mix(in oklab, oklch(0.205 0 0) 85%, black 15%);
  border: 1px solid color-mix(in oklab, oklch(0.269 0 0) 70%, oklch(0.985 0 0) 30%);
}

[data-theme="dark"] .glass-header {
  background:
    linear-gradient(180deg, oklch(0.985 0 0 / 0.02) 0%, transparent 100%),
    color-mix(in oklab, oklch(0.205 0 0) 70%, oklch(0.145 0 0) 30%);
  border-bottom: 1px solid color-mix(in oklab, oklch(0.269 0 0) 70%, oklch(0.985 0 0) 30%);
}

/* Card styling for dark */
[data-theme="dark"] .card {
  background-color: oklch(0.205 0 0);
  color: oklch(0.985 0 0);
  border-color: oklch(0.269 0 0);
  box-shadow: 0 2px 8px rgba(0,0,0,.35);
}

/* Text utilities for dark */
[data-theme="dark"] .text-secondary {
  color: oklch(0.708 0 0);
}

[data-theme="dark"] .text-muted {
  color: oklch(0.556 0 0);
}

/* Link colors */
[data-theme="dark"] .link-primary,
[data-theme="system"] html.dark .link-primary,
html.dark .link-primary {
  color: oklch(0.985 0 0);
}

[data-theme="dark"] .link-primary:hover,
[data-theme="system"] html.dark .link-primary:hover,
html.dark .link-primary:hover {
  color: oklch(0.9 0 0);
}

/* ===================== */
/* Semantic Utility Classes */
/* ===================== */

/* Loading/Skeleton states using theme tokens */
[data-theme="dark"] .skeleton,
[data-theme="system"] html.dark .skeleton,
html.dark .skeleton {
  background-color: oklch(0.32 0 0);
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Form inputs using theme tokens */
[data-theme="dark"] .input-primary,
[data-theme="system"] html.dark .input-primary,
html.dark .input-primary {
  background-color: var(--color-input);
  color: var(--color-foreground);
  border-color: var(--color-border);
}

[data-theme="dark"] .input-primary:focus,
[data-theme="system"] html.dark .input-primary:focus,
html.dark .input-primary:focus {
  border-color: var(--color-primary);
  outline: none;
  box-shadow: var(--shadow-focus);
}

/* Error states */
[data-theme="dark"] .error-bg,
[data-theme="system"] html.dark .error-bg,
html.dark .error-bg {
  background-color: oklch(0.25 0.1 27.325);
}

[data-theme="dark"] .error-text,
[data-theme="system"] html.dark .error-text,
html.dark .error-text {
  color: oklch(0.7 0.2 27.325);
}

/* Success states */
[data-theme="dark"] .success-bg,
[data-theme="system"] html.dark .success-bg,
html.dark .success-bg {
  background-color: oklch(0.25 0.08 142.5);
}

[data-theme="dark"] .success-text,
[data-theme="system"] html.dark .success-text,
html.dark .success-text {
  color: oklch(0.7 0.15 142.5);
}

/* Interactive card hover states */
[data-theme="dark"] .card-interactive:hover,
[data-theme="system"] html.dark .card-interactive:hover,
html.dark .card-interactive:hover {
  background-color: oklch(0.25 0 0);
  border-color: oklch(0.35 0 0);
  transform: translateY(-1px);
}

/* Button variants for dark theme */
[data-theme="dark"] .btn-outline,
[data-theme="system"] html.dark .btn-outline,
html.dark .btn-outline {
  background-color: transparent;
  color: var(--color-primary);
  border-color: var(--color-primary);
}

[data-theme="dark"] .btn-outline:hover,
[data-theme="system"] html.dark .btn-outline:hover,
html.dark .btn-outline:hover {
  background-color: var(--color-primary);
  color: var(--color-background);
}

/* Focus states for form elements */
[data-theme="dark"] .focus-primary:focus,
[data-theme="system"] html.dark .focus-primary:focus,
html.dark .focus-primary:focus {
  border-color: var(--color-primary);
  outline: none;
  box-shadow: 0 0 0 2px color-mix(in oklab, var(--color-primary) 30%, transparent);
}

/* Loading overlay */
[data-theme="dark"] .loading-overlay,
[data-theme="system"] html.dark .loading-overlay,
html.dark .loading-overlay {
  background-color: color-mix(in oklab, var(--color-background) 80%, transparent);
  backdrop-filter: blur(2px);
}