# T3 Stack Environment Variables
# This file shows example values for Local, Cloudflare Preview, and Production.
# Copy to .env for local development. Set Preview/Production in Cloudflare Pages Project Settings.

# WorkOS Authentication
# Get these from your WorkOS project dashboard
WORKOS_API_KEY=your_workos_api_key
WORKOS_CLIENT_ID=your_workos_client_id

# Cloudflare D1 Database
# The database is bound to the Pages project via wrangler.toml and the Cloudflare dashboard.
# There is no DATABASE_URL environment variable.

# Cloudflare Account Information (for local development with Wrangler)
# Get these from your Cloudflare dashboard
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token

# Cloudflare Resource IDs (update wrangler.toml with these values)
# Production Environment
CLOUDFLARE_PROD_D1_DATABASE_ID=your_production_d1_database_id
CLOUDFLARE_PROD_RATE_LIMIT_KV_ID=2fd1a6b5c3844ae09bc66c04d70fc71c
CLOUDFLARE_PROD_CACHE_KV_ID=8d61987cb7e744789e2e067b560566c2

# Staging Environment  
CLOUDFLARE_STAGING_D1_DATABASE_ID=your_staging_d1_database_id
CLOUDFLARE_STAGING_RATE_LIMIT_KV_ID=your_staging_rate_limit_kv_id
CLOUDFLARE_STAGING_CACHE_KV_ID=your_staging_cache_kv_id

# PostHog Analytics (optional)
NEXT_PUBLIC_POSTHOG_KEY=phc_your_posthog_key
# Use your region host; default US listed here
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# Vercel AI Gateway Configuration (optional)
# Provide to enable fresh AI jokes in production/preview. Without a key, jokes fall back locally.
VERCEL_AI_GATEWAY_API_KEY=
AI_GATEWAY_API_KEY=
# Supported models include:
#  - xai/grok-3-mini, xai/grok-beta
#  - google/gemini-2.0-flash-lite, google/gemini-1.5-pro
#  - openai/gpt-4o, openai/gpt-4o-mini, openai/gpt-3.5-turbo
#  - anthropic/claude-3-5-sonnet-20241022
#  - meta/llama-3.1-405b-instruct
AI_GATEWAY_MODEL=google/gemini-2.0-flash-lite
AI_GATEWAY_PROMPT="Tell me a joke"
AI_GATEWAY_JOKE_MEMORY_NUMBER=5

# Health/Readiness Feature (optional)
AI_GATEWAY_MODEL_HEALTH="xai/grok-3-mini"
# Note: AI prompt is now managed in TypeScript module (src/lib/ai-prompts/enhanced-health-advice.ts)
# No longer requires AI_GATEWAY_PROMPT_HEALTH environment variable

# Optional: AI Gateway Base URL override if needed
# AI_GATEWAY_BASE_URL=https://gateway.ai.vercel.com/v1

# Environment flags
# NEXT_PUBLIC_SITE_URL influences absolute URLs in the app.
# Local: http://localhost:3000
# Preview: https://<cloudflare-pages-preview-url>
# Production: https://your-domain.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# "development" | "preview" | "production"
NEXT_PUBLIC_ENV=development

# Node environment (build/runtime)
NODE_ENV=development

# WHOOP APP Details (server-only)
# Set WHOOP_REDIRECT_URI per environment. Preview URLs change unless you set a stable preview domain.
WHOOP_CLIENT_ID=your-id-here
WHOOP_CLIENT_SECRET=your-secret-here
WHOOP_REDIRECT_URI=http://localhost:3000/api/auth/whoop/callback
WHOOP_SYNC_RATE_LIMIT_PER_HOUR=1000
WHOOP_WEBHOOK_SECRET=your-webhook-secret-here

# General Rate Limit
RATE_LIMIT_ENABLED=true
RATE_LIMIT_TEMPLATE_OPERATIONS_PER_HOUR=1000
RATE_LIMIT_WORKOUT_OPERATIONS_PER_HOUR=1000
RATE_LIMIT_API_CALLS_PER_MINUTE=1000

# -------------------------------
# Cloudflare Preview guidance:
# -------------------------------
# Set the following in Cloudflare Pages Project Settings → Environment Variables (Target = Preview):
#   NEXT_PUBLIC_SITE_URL=https://<your-preview-url>
#   NEXT_PUBLIC_ENV=preview
#   NEXT_PUBLIC_POSTHOG_KEY=phc_xxx (optional)
#   NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com (optional)
#   WORKOS_API_KEY=your_workos_api_key
#   WORKOS_CLIENT_ID=your_workos_client_id
#   WHOOP_CLIENT_ID=xxx
#   WHOOP_CLIENT_SECRET=xxx
#   WHOOP_REDIRECT_URI=https://<your-preview-url>/api/auth/whoop/callback
#   VERCEL_AI_GATEWAY_API_KEY=xxx (optional)
#   AI_GATEWAY_MODEL=xai/grok-3-mini (or supported)
#   AI_GATEWAY_PROMPT=Tell a short, clean gym-related joke suitable for all audiences.
#
# -------------------------------
# Cloudflare Production guidance:
# -------------------------------
# Set the following in Cloudflare Pages Project Settings → Environment Variables (Target = Production):
#   NEXT_PUBLIC_SITE_URL=https://your-production-domain.com
#   NEXT_PUBLIC_ENV=production
#   NEXT_PUBLIC_POSTHOG_KEY=phc_xxx (optional)
#   NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com (optional)
#   WORKOS_API_KEY=your_workos_api_key
#   WORKOS_CLIENT_ID=your_workos_client_id
#   WHOOP_CLIENT_ID=xxx
#   WHOOP_CLIENT_SECRET=xxx
#   WHOOP_REDIRECT_URI=https://your-production-domain.com/api/auth/whoop/callback
#   VERCEL_AI_GATEWAY_API_KEY=xxx (optional)
#   AI_GATEWAY_MODEL=xai/grok-3-mini (or supported)
#   AI_GATEWAY_PROMPT=Tell a short, clean gym-related joke suitable for all audiences.
