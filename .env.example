# T3 Stack Environment Variables
# This file shows example values for Local, Vercel Preview, and Production.
# Copy to .env for local development. Set Preview/Production in Vercel Project Settings.


# Supabase Authentication & Database
# Get these from your Supabase project dashboard
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Local Supabase Development (add these for local dev)
# NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
# NEXT_PUBLIC_SUPABASE_ANON_KEY=your_local_anon_key
# SUPABASE_SERVICE_ROLE_KEY=your_local_service_role_key

# Database (server-only)
# Local: point to your local Postgres
# Preview/Prod (Vercel): external Postgres or Vercel Postgres. Use sslmode=require if needed.
DATABASE_URL=postgresql://username:password@localhost:5432/database_name

# PostHog Analytics (optional)
NEXT_PUBLIC_POSTHOG_KEY=phc_your_posthog_key
# Use your region host; default US listed here
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# Vercel AI Gateway Configuration (optional)
# Provide to enable fresh AI jokes in production/preview. Without a key, jokes fall back locally.
VERCEL_AI_GATEWAY_API_KEY=
AI_GATEWAY_API_KEY=
# Supported models include:
#  - xai/grok-3-mini, xai/grok-beta
#  - google/gemini-2.0-flash-lite, google/gemini-1.5-pro
#  - openai/gpt-4o, openai/gpt-4o-mini, openai/gpt-3.5-turbo
#  - anthropic/claude-3-5-sonnet-20241022
#  - meta/llama-3.1-405b-instruct
AI_GATEWAY_MODEL=google/gemini-2.0-flash-lite
AI_GATEWAY_PROMPT="Tell me a joke"
AI_GATEWAY_JOKE_MEMORY_NUMBER=5

# Health/Readiness Feature (optional)
AI_GATEWAY_MODEL_HEALTH="xai/grok-3-mini"
# Note: AI prompt is now managed in TypeScript module (src/lib/ai-prompts/enhanced-health-advice.ts)
# No longer requires AI_GATEWAY_PROMPT_HEALTH environment variable

# Optional: AI Gateway Base URL override if needed
# AI_GATEWAY_BASE_URL=https://gateway.ai.vercel.com/v1

# Environment flags
# NEXT_PUBLIC_SITE_URL influences absolute URLs in the app.
# Local: http://localhost:3000
# Preview: https://<vercel-preview-url>
# Production: https://your-domain.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# "development" | "preview" | "production"
NEXT_PUBLIC_ENV=development

# Node environment (build/runtime)
NODE_ENV=development

# WHOOP APP Details (server-only)
# Set WHOOP_REDIRECT_URI per environment. Preview URLs change unless you set a stable preview domain.
WHOOP_CLIENT_ID=your-id-here
WHOOP_CLIENT_SECRET=your-secret-here
WHOOP_REDIRECT_URI=http://localhost:3000/api/auth/whoop/callback
WHOOP_SYNC_RATE_LIMIT_PER_HOUR=1000
WHOOP_WEBHOOK_SECRET=your-webhook-secret-here

# General Rate Limit
RATE_LIMIT_ENABLED=true
RATE_LIMIT_TEMPLATE_OPERATIONS_PER_HOUR=1000
RATE_LIMIT_WORKOUT_OPERATIONS_PER_HOUR=1000
RATE_LIMIT_API_CALLS_PER_MINUTE=1000

# -------------------------------
# Vercel Preview guidance:
# -------------------------------
# Set the following in Vercel Project Settings â†’ Environment Variables (Target = Preview):
#   NEXT_PUBLIC_SITE_URL=https://<your-preview-url>
#   NEXT_PUBLIC_ENV=preview
#   NEXT_PUBLIC_POSTHOG_KEY=phc_xxx (optional)
#   NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com (optional)
#   NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
#   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
#   SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
#   DATABASE_URL=postgres://user:password@host:port/db?sslmode=require
#   WHOOP_CLIENT_ID=xxx
#   WHOOP_CLIENT_SECRET=xxx
#   WHOOP_REDIRECT_URI=https://<your-preview-url>/api/auth/whoop/callback
#   VERCEL_AI_GATEWAY_API_KEY=xxx (optional)
#   AI_GATEWAY_MODEL=xai/grok-3-mini (or supported)
#   AI_GATEWAY_PROMPT=Tell a short, clean gym-related joke suitable for all audiences.
#
# Production target should use the production domain/keys and:
#   NEXT_PUBLIC_ENV=production
#   WHOOP_REDIRECT_URI=https://your-production-domain.com/api/auth/whoop/callback
